(()=>{"use strict";var t,e={7055:(t,e,r)=>{r.d(e,{Z:()=>v});var n=r(8081),i=r.n(n),a=r(3645),o=r.n(a),s=r(1667),d=r.n(s),p=new URL(r(1933),r.b),l=new URL(r(7105),r.b),c=new URL(r(8351),r.b),u=o()(i()),h=d()(p),f=d()(l),m=d()(c);u.push([t.id,".curLineStepGutter {\n  background-image: url("+h+");\n}\n\n.prevLineStepGutter {\n  background-image: url("+f+");\n}\n\n.curPrevOverlapLineStepGutter {\n  background-image: url("+m+');\n}\n\n.errorLine {\n  position: absolute;\n  z-index: 20;\n  border-top: 1px solid #e93f34;\n  border-bottom: 1px solid #e93f34;\n  /*background: rgba(200, 0, 0, 0.15);*/\n}\n\n#sliderStuff {\n  padding-top: 3px;\n}\n\n/* copied from pytutor.css - TODO: integrate and merge together */\n/* VCR control buttons for stepping through execution */\n#vcrControls {\n  margin-top: 15px;\n  margin-bottom: 6px;\n  /*width: 100%;*/\n  text-align: center;\n}\n\n#vcrControls button {\n  margin-left: 2px;\n  margin-right: 2px;\n}\n\n#curInstr {\n  /*\n  margin-left: 4px;\n  margin-right: 4px;\n  */\n  text-align: center;\n}\n\ndiv#rawUserInputDiv {\n  padding: 5px;\n  width: 95%;\n  margin: 5px auto;\n  text-align: center;\n  border: 1px #e93f34 solid;\n}\n\n\nbutton.surveyBtn {\n  font-size: 8pt;\n  margin-top: 8px;\n}\n\nbutton.surveyBtnBig {\n  font-size: 11pt;\n  padding: 5px;\n  margin-top: 0px;\n}\n\n\n/* keep it a fixed min height so that footer below it doesn\'t jiggle up\n   and down */\n#frontendErrorOutput {\n  min-height: 20pt;\n}\n\n#liveModeHeader {\n  margin-left: 3px;\n  margin-bottom: 12px;\n  margin-top: 10px;\n  color: #888;\n  /*width: 600px;*/\n}\n\n/* copied from pytutor.css */\ndiv#legendDiv {\n  margin-top: 8px;\n  padding: 0px;\n  text-align: left;\n  color: #666;\n  font-size: 9pt;\n  width: 500px;\n}\n\n#prevLegendArrowSVG, #curLegendArrowSVG {\n  width: 18px;\n  height: 10px;\n}\n\n\n/* translucent dimmed div: http://stackoverflow.com/a/21457838 */\n.dimmed {\n  position: relative;\n}\n\n.dimmed:after {\n  content: " ";\n  z-index: 10;\n  display: block;\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: rgba(200, 0, 0, 0.12);\n}\n\n/* augment */\ndiv.ExecutionVisualizer #dataViz {\n  padding-right: 20px;\n}\n\n/* override Ace defaults */\n.ace_gutter {\n}\n\n.ace_gutter-cell {\n}\n\n.ace_gutter-layer {\n  background-color: white;\n  margin-right: 2px;\n  color: #aaa;\n}\n',""]);const v=u},7448:(t,e,r)=>{r.r(e),r.d(e,{default:()=>g});var n=r(3379),i=r.n(n),a=r(7795),o=r.n(a),s=r(569),d=r.n(s),p=r(3565),l=r.n(p),c=r(9216),u=r.n(c),h=r(4589),f=r.n(h),m=r(7055),v={};v.styleTagTransform=f(),v.setAttributes=l(),v.insert=d().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u(),i()(m.Z,v);const g=m.Z&&m.Z.locals?m.Z.locals:void 0},532:(t,e,r)=>{var n,i=r(6427),a=r(5692),o=r(9682),s=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});r(9682),r(5938),r(9476),r(3273),r(9047);var d=new RegExp("\t","g");function p(t){return t.replace(/\(/g,"%28").replace(/\)/g,"%29")}var l=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;if(r.originFrontendJsFile="opt-frontend.js",r.pyInputAceEditor=void 0,r.activateSyntaxErrorSurvey=!0,r.activateRuntimeErrorSurvey=!0,r.activateEurekaSurvey=!1,r.demoMode=!1,r.preseededCurInstr=void 0,o("#genEmbedBtn").bind("click",(function(){var t=r.appMode;(0,a.hu)("display"==t||"visualize"==t),delete(e=r.getAppState()).mode,e.codeDivWidth=a.u8.DEFAULT_EMBEDDED_CODE_DIV_WIDTH,e.codeDivHeight=a.u8.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT;var e=r.getAppState(),n=o.param.fragment(window.location.href,e,2),i='<iframe width="800" height="500" frameborder="0" src="'+(n=p(n))+'"> </iframe>';o("#embedCodeOutput").val(i)})),r.initAceEditor(420),window.addEventListener("hashchange",(function(t){if(o.bbq.getState("code"))r.parseQueryString();else{var e=o.bbq.getState("mode");r.updateAppDisplay(e)}})),o(window).resize(r.redrawConnectors.bind(r)),o("#genUrlBtn").bind("click",(function(){var t=r.getAppState(),e=o.param.fragment(window.location.href,t,2);e=p(e),o("#urlOutput").val(e)})),(0,i.rR)()&&!e.disableLocalStorageToggles){var n={};o.each(["cumulative","heapPrimitives","py","textReferences"],(function(t,e){var r=localStorage.getItem(e);r&&(n[e]=r)})),r.setToggleOptions(n)}var s=0;return setInterval((function(){if(r.myVisualizer){var t=r.myVisualizer.updateHistory;t&&t.length!=s&&(s=t.length)}}),6e4),r.parseQueryString(),r}return s(e,t),e.prototype.compressUpdateHistoryList=function(){(0,a.hu)(this.myVisualizer);var t=this.myVisualizer.updateHistory,e=[];if(t){e.push(t[0]);for(var r=t[0][1],n=1;n<t.length;n++){var i=t[n];e.push([i[0],i[1]-r])}var o=(new Date).getTime();e.push([this.myVisualizer.curInstr,o-r])}return e},e.prototype.initAceEditor=function(t){var e=this;(0,a.hu)(!this.pyInputAceEditor),this.pyInputAceEditor=ace.edit("codeInputPane");var r=this.pyInputAceEditor.getSession();r.setTabSize(4),r.setUseSoftTabs(!0),r.setFoldStyle("manual"),r.getDocument().setNewLineMode("unix"),this.pyInputAceEditor.setHighlightActiveLine(!1),this.pyInputAceEditor.setShowPrintMargin(!1),this.pyInputAceEditor.setBehavioursEnabled(!1),this.pyInputAceEditor.$blockScrolling=1/0,this.pyInputAceEditor.setOptions({minLines:18,maxLines:1e3}),o("#codeInputPane").css("width","700px"),o("#codeInputPane").css("height",t+"px"),this.initDeltaObj(),this.pyInputAceEditor.on("change",(function(t){var r=e.pyInputGetValue();r.indexOf("\t")>=0&&(e.pyInputSetValue(r.replace(d,"    ")),console.log("Converted all tabs to spaces")),o.doTimeout("pyInputAceEditorChange",1e3,e.snapshotCodeDiff.bind(e))})),r.setOption("useWorker",!1),this.setAceMode(),this.pyInputAceEditor.focus()},e.prototype.setAceMode=function(){var t,e="python";(0,a.hu)(e),(t=this.pyInputAceEditor.getSession()).setMode("ace/mode/"+e),t.setTabSize(4),t.setUseSoftTabs(!0),(t=this.pyInputAceEditor.getSession()).clearAnnotations(),o("#liveModeBtn").show(),this.clearFrontendError()},e.prototype.pyInputGetValue=function(){return this.pyInputAceEditor.getValue()},e.prototype.pyInputSetValue=function(t){this.pyInputAceEditor.setValue(t.rtrim(),-1),o("#urlOutput,#urlOutputShortened,#embedCodeOutput").val(""),this.clearFrontendError(),o(document).scrollTop(0)},e.prototype.pyInputGetScrollTop=function(){return this.pyInputAceEditor.getSession().getScrollTop()},e.prototype.pyInputSetScrollTop=function(t){this.pyInputAceEditor.getSession().setScrollTop(t)},e.prototype.executeCodeFromScratch=function(){this.pyInputAceEditor&&""==o.trim(this.pyInputGetValue())?this.setFronendError(["Type in some code to visualize."],!0):t.prototype.executeCodeFromScratch.call(this)},e.prototype.executeCode=function(t,e){void 0===t&&(t=0),void 0===e&&(e=void 0),"edit"!=this.appMode&&this.enterEditMode(),null!=e&&(this.rawInputLst=e);var r=this.getBaseBackendOptionsObj(),n=this.getBaseFrontendOptionsObj();n.startingInstruction=t,this.snapshotCodeDiff(),this.deltaObj&&(this.deltaObj.executeTime=(new Date).getTime()),this.executeCodeAndCreateViz(this.pyInputGetValue(),o("#pythonVersionSelector").val(),r,n,"pyOutputPane"),this.initDeltaObj()},e.prototype.finishSuccessfulExecution=function(){var t=this;this.enterDisplayMode(),this.myVisualizer&&this.myVisualizer.add_pytutor_hook("end_updateOutput",(function(e){if(o.doTimeout("updateOutputLogEvent",250,(function(){var r={type:"updateOutput",step:e.myViz.curInstr,curline:e.myViz.curLineNumber,prevline:e.myViz.prevLineNumber};e.myViz.curLineExceptionMsg&&(r.exception=e.myViz.curLineExceptionMsg),e.myViz.curLineIsReturn&&(r.curLineIsReturn=!0),e.myViz.prevLineIsReturn&&(r.prevLineIsReturn=!0),t.logEventCodeopticon(r)})),e.myViz.creationTime){var r=(new Date).getTime(),n=e.myViz.updateHistory;(0,a.hu)(n.length>0),n.length>1&&r-n[n.length-1][1]<1e3&&n.pop(),n.push([e.myViz.curInstr,r])}return[!1]})),this.myVisualizer.creationTime=(new Date).getTime(),this.myVisualizer.updateHistory=[],this.myVisualizer.updateHistory.push([this.myVisualizer.curInstr,this.myVisualizer.creationTime,this.myVisualizer.curTrace.length])},e.prototype.handleUncaughtException=function(t){if(1==t.length&&t[0].line){var e=t[0].line-1;void 0!==e&&NaN!=e&&(this.pyInputAceEditor.getSession().setAnnotations([{row:e,column:null,type:"error",text:t[0].exception_msg}]),this.pyInputAceEditor.gotoLine(e+1),void 0!==t[0].col&&this.pyInputAceEditor.moveCursorTo(e,t[0].col),this.pyInputAceEditor.focus())}},e.prototype.ignoreAjaxError=function(t){return t.url.indexOf("syntax_err_survey.py")>-1||t.url.indexOf("runtime_err_survey.py")>-1||t.url.indexOf("eureka_survey.py")>-1||t.url.indexOf("viz_interaction.py")>-1},e.prototype.initDeltaObj=function(){(0,a.hu)(this.pyInputAceEditor),this.deltaObj={start:this.pyInputGetValue(),deltas:[],v:2,startTime:(new Date).getTime()}},e.prototype.snapshotCodeDiff=function(){(0,a.hu)(this.deltaObj);var t=this.pyInputGetValue(),e=(new Date).getTime();if(this.curCode!=t){var r={t:e,d:this.dmp.diff_toDelta(this.dmp.diff_main(this.curCode,t))};this.deltaObj.deltas.push(r),this.curCode=t,this.logEditDelta(r)}},e.prototype.logEditDelta=function(t){this.logEventCodeopticon({type:"editCode",delta:t})},e.prototype.enterDisplayMode=function(){this.updateAppDisplay("display")},e.prototype.enterEditMode=function(){this.updateAppDisplay("edit")},e.prototype.updateAppDisplay=function(t){var e=this;if(this.appMode=t,void 0!==this.appMode&&"edit"!=this.appMode&&this.myVisualizer)"display"==this.appMode||"visualize"==this.appMode?((0,a.hu)(this.myVisualizer),this.appMode="display",o("#pyInputPane").hide(),o("#pyOutputPane,#embedLinkDiv").show(),this.doneExecutingCode(),this.myVisualizer.updateOutput(),o("#pyOutputPane #editCodeLinkDiv").show(),o("#pyOutputPane #editBtn").off().click((function(){e.enterEditMode()})),o(document).scrollTop(0),r={mode:"display"},"undefined"!=typeof codeopticonSession&&(r.cosession=codeopticonSession),"undefined"!=typeof codeopticonUsername&&(r.couser=codeopticonUsername),o.bbq.pushState(r,2)):(0,a.hu)(!1);else{this.appMode="edit",o("#pyInputPane").show(),o("#pyOutputPane,#embedLinkDiv").hide(),o("#pyOutputPane").empty(),this.myVisualizer=null,o(document).scrollTop(0),this.pyInputAceEditor.resize(!0);var r={mode:"edit"};"undefined"!=typeof codeopticonSession&&(r.cosession=codeopticonSession),"undefined"!=typeof codeopticonUsername&&(r.couser=codeopticonUsername),o.bbq.pushState(r,2)}o("#urlOutput,#urlOutputShortened,#embedCodeOutput").val(""),this.logEventCodeopticon({type:"updateAppDisplay",mode:this.appMode,appState:this.getAppState()}),(0,a.hu)("edit"===this.appMode||"display"===this.appMode)},e.prototype.openLiveModeUrl=function(){var t=this.getAppState(),e=o.param.fragment("live.html",t,2);return window.open(e),!1},e.prototype.appStateAugmenter=function(t){},e.prototype.getAppState=function(){(0,a.hu)(this.originFrontendJsFile);var t={code:this.pyInputGetValue(),mode:this.appMode,origin:this.originFrontendJsFile,py:o("#pythonVersionSelector").val(),rawInputLstJSON:JSON.stringify(this.rawInputLst),curInstr:this.myVisualizer?this.myVisualizer.curInstr:void 0};return void 0===t.py&&delete t.py,void 0===t.rawInputLstJSON&&delete t.rawInputLstJSON,void 0===t.curInstr&&delete t.curInstr,this.appStateAugmenter(t),t},e.prototype.getToggleState=function(){var t=this.getAppState();return delete t.code,delete t.mode,delete t.rawInputLstJSON,delete t.curInstr,t},e.prototype.setToggleOptions=function(t){void 0!==t.py&&o("#pythonVersionSelector").val(t.py)},e.prototype.demoModeChanged=function(){},e.prototype.loadCodcastFile=function(){},e.prototype.parseQueryString=function(){var t=this.getQueryStringOptions();this.setToggleOptions(t),t.preseededCode&&this.pyInputSetValue(t.preseededCode),this.rawInputLst=t.rawInputLst?t.rawInputLst:[],this.preseededCurInstr=t.preseededCurInstr,isNaN(this.preseededCurInstr)&&(this.preseededCurInstr=void 0),t.demoMode&&(this.demoMode=!0,this.demoModeChanged()),t.codcastFile&&(this.codcastFile=t.codcastFile,this.loadCodcastFile()),t.codeopticonSession&&((0,a.hu)(!1),codeopticonSession=t.codeopticonSession,codeopticonUsername=t.codeopticonUsername),"display"!=t.appMode&&"visualize"!=t.appMode||!t.preseededCode||this.executeCode(this.preseededCurInstr),o.bbq.removeState()},e}(i.yP),c=r(5465),u=r(8840),h=r(5078),f=r(9682),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();r(3273),r(7448),r(5938),r(9476);var v=function(t){function e(e){var r=t.call(this,e)||this;return r.originFrontendJsFile="opt-live.js",r.prevVisualizer=null,r.disableRowScrolling=!1,r.hasSyntaxError=!1,r.allMarkerIds=[],f("#legendDiv").append('<svg id="prevLegendArrowSVG"/> line that just executed').append('<p style="margin-top: 4px"><svg id="curLegendArrowSVG"/> next line to execute</p>'),h.select("svg#prevLegendArrowSVG").append("polygon").attr("points",a.bv).attr("fill",a.T$),h.select("svg#curLegendArrowSVG").append("polygon").attr("points",a.bv).attr("fill",a.eq),r.setAceMode(),f("#pyOutputPane").show(),f("#jmpFirstInstr").click((function(){r.myVisualizer&&r.myVisualizer.renderStep(0)})),f("#jmpLastInstr").click((function(){r.myVisualizer&&r.myVisualizer.renderStep(r.myVisualizer.curTrace.length-1)})),f("#jmpStepBack").click((function(){r.myVisualizer&&r.myVisualizer.stepBack()})),f("#jmpStepFwd").click((function(){r.myVisualizer&&r.myVisualizer.stepForward()})),r}return m(e,t),e.prototype.demoModeChanged=function(){t.prototype.demoModeChanged.call(this),this.demoMode&&f("#eurekaSurveyPane,#surveyPane,#liveModeHeader").hide()},e.prototype.setAceMode=function(){var e=f("#pythonVersionSelector").val();"js"!==e&&"2"!==e&&"3"!==e&&"pyodide"!==e&&f("#pythonVersionSelector").val("2"),t.prototype.setAceMode.call(this)},e.prototype.toggleSyntaxError=function(t){t?(this.hasSyntaxError=!0,f("#dataViz,#curInstr").addClass("dimmed")):(this.hasSyntaxError=!1,f("#dataViz,#curInstr").removeClass("dimmed"),this.pyInputAceEditor.getSession().clearAnnotations())},e.prototype.removeAllGutterDecorations=function(){for(var t=this.pyInputAceEditor.getSession(),e=t.getDocument(),r=0;r<e.getLength();r++)t.removeGutterDecoration(r,"curLineStepGutter"),t.removeGutterDecoration(r,"prevLineStepGutter"),t.removeGutterDecoration(r,"curPrevOverlapLineStepGutter")},e.prototype.updateStepLabels=function(){var t=this,e=this.myVisualizer;(0,a.hu)(e),e.updateLineAndExceptionInfo(),f("#urlOutput,#urlOutputShortened").val("");var r=this.pyInputAceEditor.getSession();this.allMarkerIds.forEach((function(t){r.removeMarker(t)})),this.allMarkerIds=[];var n=e.curTrace.length,i=e.curInstr===n-1;i?e.promptForUserInput||e.promptForMouseInput?f("#curInstr").html('<b><font color="'+a._E+'">Enter user input:</font></b>'):e.instrLimitReached?f("#curInstr").html("Step limit reached"):f("#curInstr").html("Done running ("+String(n-1)+" steps)"):f("#curInstr").html("Step "+String(e.curInstr+1)+" of "+String(n-1));var o=f("#rawUserInputDiv");i&&e.params.executeCodeWithRawInputFunc&&e.promptForUserInput?(o.show(),o.find("#userInputPromptStr").html(e.userInputPromptStr),o.find("#raw_input_textbox").val(""),o.find("#raw_input_submit_btn").unbind("click").click((function(){var e=o.find("#raw_input_textbox").val(),r=t.myVisualizer;r.params.executeCodeWithRawInputFunc(e,r.curInstr+1)}))):o.hide();var s=e.curTrace[e.curInstr];if("exception"===s.event||"uncaught_exception"===s.event){if((0,a.hu)(s.exception_msg),"Unknown error"==s.exception_msg?f("#frontendErrorOutput").html("Unknown error: "+u.O):f("#frontendErrorOutput").html((0,a.$_)(s.exception_msg)+"<p/>("+u.O+")"),e.curLineNumber){var d=ace.require("ace/range").Range,p=r.addMarker(new d(e.curLineNumber-1,0,e.curLineNumber-1,1),"errorLine","fullLine");this.allMarkerIds.push(p)}}else e.instrLimitReached?f("#frontendErrorOutput").html((0,a.$_)(e.instrLimitReachedWarningMsg)+"<p/>("+u.O+")"):f("#frontendErrorOutput").html("");this.removeAllGutterDecorations(),e.curLineNumber&&e.curLineNumber===e.prevLineNumber?r.addGutterDecoration(e.curLineNumber-1,"curPrevOverlapLineStepGutter"):(e.curLineNumber&&r.addGutterDecoration(e.curLineNumber-1,"curLineStepGutter"),e.prevLineNumber&&r.addGutterDecoration(e.prevLineNumber-1,"prevLineStepGutter"));var l=null;if(e.curLineNumber?l=e.curLineNumber:e.prevLineNumber&&(l=e.prevLineNumber),l&&!this.disableRowScrolling){var c=this.pyInputAceEditor.getFirstVisibleRow()+1,h=this.pyInputAceEditor.getLastVisibleRow();(l<c||l>h)&&this.pyInputAceEditor.scrollToLine(l,!0)}},e.prototype.appStateAugmenter=function(t){t.mode="display"},e.prototype.finishSuccessfulExecution=function(){var t=this,e=this.myVisualizer,r=this.prevVisualizer;(0,a.hu)(e),f("#pyOutputPane,#vcrControls,#curInstr").show(),this.doneExecutingCode(),this.toggleSyntaxError(!1);var n=f("#executionSlider");if(n.slider({min:0,max:e.curTrace.length-1,step:1}),n.find(".ui-slider-handle").unbind("keydown"),n.find(".ui-slider-handle").css("width","0.8em"),n.find(".ui-slider-handle").css("height","1.4em"),f(".ui-widget-content").css("font-size","0.9em"),n.unbind("slide").bind("slide",(function(e,r){e.originalEvent&&t.myVisualizer.renderStep(r.value)})),r){var i=r.curInstr;r.curInstr!==r.curTrace.length-1&&e.curTrace.length>=r.curTrace.length?e.renderStep(i):e.updateOutput()}else e.updateOutput();this.updateStepLabels(),e.creationTime=(new Date).getTime(),e.updateHistory=[],e.updateHistory.push([e.curInstr,e.creationTime,e.curTrace.length]),e.add_pytutor_hook("end_updateOutput",(function(e){if(e.myViz.creationTime){var r=(new Date).getTime(),n=e.myViz.updateHistory;(0,a.hu)(n.length>0),n.length>1&&r-n[n.length-1][1]<1e3&&n.pop(),n.push([e.myViz.curInstr,r])}return f("#executionSlider").slider("value",t.myVisualizer.curInstr),t.updateStepLabels(),[!1]})),f("#executionSlider").slider("value",e.curInstr),this.myVisualizer.redrawConnectors()},e.prototype.handleUncaughtException=function(t){if(1==t.length&&t[0].line){var e=t[0].line-1;void 0!==e&&NaN!=e&&(this.removeAllGutterDecorations(),this.myVisualizer&&(this.toggleSyntaxError(!0),this.myVisualizer.redrawConnectors()),this.pyInputAceEditor.getSession().setAnnotations([{row:e,type:"error",text:t[0].exception_msg}]))}},e.prototype.redrawConnectors=function(){this.myVisualizer&&this.myVisualizer.redrawConnectors()},e.prototype.snapshotCodeDiff=function(){},e.prototype.initAceEditor=function(t){var e=this;(0,a.hu)(!this.pyInputAceEditor),this.pyInputAceEditor=ace.edit("codeInputPane");var r=this.pyInputAceEditor.getSession();r.setFoldStyle("manual"),r.getDocument().setNewLineMode("unix"),this.pyInputAceEditor.setHighlightActiveLine(!1),this.pyInputAceEditor.setShowPrintMargin(!1),this.pyInputAceEditor.setBehavioursEnabled(!1),this.pyInputAceEditor.setHighlightGutterLine(!1),this.pyInputAceEditor.setDisplayIndentGuides(!1),this.pyInputAceEditor.$blockScrolling=1/0,this.pyInputAceEditor.setOptions({minLines:10,maxLines:1e3}),f("#pyInputPane,#codeInputPane").css("width","550px").css("min-width","250px"),f("#codeInputPane").css("height",t+"px"),f("#codeInputPane").resizable({resize:function(t,r){e.pyInputAceEditor.resize(),f("#pyInputPane").width(f("#codeInputPane").width()),e.myVisualizer&&e.myVisualizer.redrawConnectors()}}),this.pyInputAceEditor.on("change",(function(t){var n=e.pyInputGetValue();n.indexOf("\t")>=0&&(e.pyInputSetValue(n.replace(d,"    ")),console.log("Converted all tabs to spaces")),f.doTimeout("pyInputAceEditorChange",500,(function(){e.preseededCurInstr?(e.executeCode(e.preseededCurInstr),e.preseededCurInstr=void 0):(e.pyInputAceEditor&&""==f.trim(e.pyInputGetValue())&&(e.toggleSyntaxError(!0),e.myVisualizer.redrawConnectors()),e.executeCodeFromScratch())})),e.clearFrontendError(),r.clearAnnotations()})),r.setOption("useWorker",!1),this.pyInputAceEditor.focus(),r.gutterRenderer={getWidth:function(t,e,r){return e.toString().length*r.characterWidth+6},getText:function(t,e){return e+1}}},e.prototype.executeCodeFromScratch=function(){this.disableRowScrolling=!0,t.prototype.executeCodeFromScratch.call(this)},e.prototype.executeCodeAndCreateViz=function(t,e,r,n,i){var o,s,d,p,l=this;if(this.clearFrontendError(),this.startExecutingCode(),this.setFronendError(["Running your code ..."],!0),n.lang="pyodide",this.hasSyntaxError);else if(this.myVisualizer){var h=this.compressUpdateHistoryList();JSON.stringify(h)}"pyodide"===e&&(o=l,s=void 0,p=function(){var e;return function(t,e){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(r){switch(r.label){case 0:return[4,(0,c.H)(t,{})];case 1:return e=r.sent(),(s=(o=JSON.parse(e.results)).trace)&&0!==s.length&&"uncaught_exception"!==s[s.length-1].event?(l.prevVisualizer=l.myVisualizer,l.myVisualizer=new a.u8(i,o,n),l.finishSuccessfulExecution()):(l.handleUncaughtException(s),1===s.length?l.setFronendError([s[0].exception_msg]):s.length>0&&s[s.length-1].exception_msg?l.setFronendError([s[s.length-1].exception_msg]):l.setFronendError(u.l)),l.doneExecutingCode(),l.disableRowScrolling=!1,[2]}var o,s}))},new((d=void 0)||(d=Promise))((function(t,e){function r(t){try{i(p.next(t))}catch(t){e(t)}}function n(t){try{i(p.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof d?i:new d((function(t){t(i)}))).then(r,n)}i((p=p.apply(o,s||[])).next())})))},e.prototype.getBaseFrontendOptionsObj=function(){var e=t.prototype.getBaseFrontendOptionsObj.call(this);return e.hideCode=!0,e.jumpToEnd=!0,e},e}(l);f(document).ready((function(){new v({})}))},5692:(t,e,r)=>{r.d(e,{$_:()=>R,T$:()=>v,_E:()=>p,bv:()=>d,eq:()=>m,hu:()=>A,u8:()=>w});var n=r(5078),i=r(8840),a=r(9682),o=r(9682),s=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o};r(9682),r(54),r(7184),r(1742),r(4977),r(8726),r(9771);var d="0,3 12,3 12,0 18,5 12,10 12,7 0,7",p="#e93f34",l="#005583",c=p,u="#cccccc",h=p,f=p,m=p,v="#c9e6ca",g=/__heap_pointer_src_/;function y(t,e){for(var r=[],n=0;n<t.length;n++)for(var i=0;i<e.length;i++){var o=t[n];a.isArray(o)?r.push(o.concat(e[i])):r.push([o,e[i]])}return r}function b(t){return R(t.join(", ")).replace(/&nbsp;/g," ")}function I(t){return t.replace(/\n/g,",").split(",").filter((function(t){return t.trim().length>0})).map((function(t){return t.trim()}))}var _=new RegExp("\n","g"),S=new RegExp('"',"g"),L=new RegExp("\t","g"),w=function(){function t(e,r,i){if(this.params={},this.codeOutputLines=[],this.curInstr=0,this.pytutor_hooks={},this.instrLimitReached=!1,this.hasRendered=!1,this.breakpoints=n.map(),this.sortedBreakpointsList=[],this.curInputCode=r.code.rtrim(),this.params=i,this.curTrace=r.trace,this.curTrace.length>0){var o=this.curTrace[this.curTrace.length-1];"raw_input"===o.event?(this.promptForUserInput=!0,this.userInputPromptStr=R(o.prompt),this.curTrace.pop()):"mouse_input"===o.event?(this.promptForMouseInput=!0,this.userInputPromptStr=R(o.prompt),this.curTrace.pop()):"instruction_limit_reached"===o.event&&(this.instrLimitReached=!0,this.instrLimitReachedWarningMsg=o.exception_msg,this.curTrace.pop())}this.params.visualizerIdOverride?this.visualizerID=this.params.visualizerIdOverride:(this.visualizerID=t.curVisualizerID,A(this.visualizerID>0),t.curVisualizerID++),this.params.disableHeapNesting=!0===this.params.disableHeapNesting,this.params.drawParentPointers=!0===this.params.drawParentPointers,this.params.textualMemoryLabels=!0===this.params.textualMemoryLabels,this.params.showAllFrameLabels=!0===this.params.showAllFrameLabels,void 0===this.params.alwaysNestTypes&&(this.params.alwaysNestTypes=t.DEFAULT_ALWAYS_NEST_TYPES),A(a.isArray(this.params.alwaysNestTypes));var s=a("#"+e),d=n.select("#"+e);s.html('<div class="ExecutionVisualizer"></div>'),this.domRoot=s.find("div.ExecutionVisualizer"),this.domRootD3=d.select("div.ExecutionVisualizer");for(var p=this.curInputCode.split("\n"),l=0;l<p.length;l++){var c=p[l],u={text:c,lineNumber:l+1,executionPoints:[],breakpointHere:!1};a.each(this.curTrace,(function(t,e){e.line===u.lineNumber&&u.executionPoints.push(t)}));for(var h=!1,f=c.split("#"),m=1;m<f.length;m++)-1!=f[m].indexOf("breakpoint")&&(h=!0);h&&u.executionPoints.length>0&&(u.breakpointHere=!0,this.addToBreakpoints(u.executionPoints)),this.codeOutputLines.push(u)}this.try_hook("end_constructor",{myViz:this}),this.render()}return t.prototype.objInAlwaysNestTypes=function(t){return!!t&&(A(a.isArray(t)),this.params.alwaysNestTypes.indexOf(t[0])>=0||t.length>=2&&("INSTANCE"==t[0]||"INSTANCE_PPRINT"==t[0])&&this.params.alwaysNestTypes.indexOf(t[1])>=0)},t.prototype.shouldNestObject=function(t){return!this.params.disableHeapNesting||this.objInAlwaysNestTypes(t)},t.prototype.add_pytutor_hook=function(t,e){this.pytutor_hooks[t]?this.pytutor_hooks[t].push(e):this.pytutor_hooks[t]=[e]},t.prototype.try_hook=function(t,e){if(this.pytutor_hooks[t])for(var r=0;r<this.pytutor_hooks[t].length;r++){var n=this.pytutor_hooks[t][r].apply(null,[e]);if(n&&n[0])return n}return[!1]},t.prototype.generateID=function(t){return"v"+this.visualizerID+"__"+t},t.prototype.render=function(){var e=this;if(this.hasRendered)alert("ERROR: You should only call render() ONCE on an ExecutionVisualizer object.");else{this.params.verticalStack?this.domRoot.html('<table border="0" class="visualizer">                           <tr><td class="vizLayoutTd" id="vizLayoutTdFirst""></td></tr>                           <tr><td class="vizLayoutTd" id="vizLayoutTdSecond"></td></tr>                         </table>'):this.domRoot.html('<table border="0" class="visualizer"><tr>                           <td class="vizLayoutTd" id="vizLayoutTdFirst"></td>                           <td class="vizLayoutTd" id="vizLayoutTdSecond"></td>                         </tr></table>'),this.domRoot.find("#vizLayoutTdFirst").append('<div id="codAndNav" style="width: 550px;"/>');var r=this.domRoot.find("#vizLayoutTdFirst #codAndNav"),n=this.domRootD3.select("#vizLayoutTdFirst #codAndNav");if(this.codDisplay=new C(this,r,n,this.curInputCode,this.params.lang,this.params.editCodeBaseURL),this.navControls=new T(this,r,n,this.curTrace.length),this.params.embeddedMode&&(void 0===this.params.codeDivWidth&&(this.params.codeDivWidth=t.DEFAULT_EMBEDDED_CODE_DIV_WIDTH),void 0===this.params.codeDivHeight&&(this.params.codeDivHeight=t.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT),r.find("#creditsPane").html('<div style="font-size: 8pt; margin-top: 5px; margin-bottom: 5px;"><a href="http://mytutor.cs.cityu.edu.hk/opt3/" target="_blank" style="color: #3D58A2;">Python Tutor</a> by <a href="http://pgbovine.net/" target="_blank" style="color: #3D58A2;">Philip Guo</a></div>'),r.find("#codeFooterDocs").hide()),this.params.codeDivWidth&&this.params.codeDivWidth<470&&(this.domRoot.find("#jmpFirstInstr").hide(),this.domRoot.find("#jmpLastInstr").hide()),this.params.codeDivWidth&&this.domRoot.find("#codAndNav").width(this.params.codeDivWidth),this.params.codeDivHeight&&this.domRoot.find("#pyCodeOutputDiv").css("max-height",this.params.codeDivHeight+"px"),r.resizable({handles:"e",minWidth:100,resize:function(t,r){e.domRoot.find("#codeDisplayDiv").css("height","auto"),e.navControls.renderSliderBreakpoints(e.sortedBreakpointsList),e.params.updateOutputCallback&&e.params.updateOutputCallback(e)}}),this.outputBox=new O(this,this.domRoot.find("#vizLayoutTdSecond"),this.params.embeddedMode?"45px":null),this.dataViz=new E(this,this.domRoot.find("#vizLayoutTdSecond"),this.domRootD3.select("#vizLayoutTdSecond")),this.navControls.showError(this.instrLimitReachedWarningMsg),this.navControls.setupSlider(this.curTrace.length-1),this.params.startingInstruction&&(this.params.jumpToEnd=!1,this.params.startingInstruction==this.curTrace.length&&this.params.startingInstruction--,this.params.startingInstruction<0&&(this.params.startingInstruction=0),this.params.startingInstruction>=this.curTrace.length&&(this.params.startingInstruction=this.curTrace.length-1),A(0<=this.params.startingInstruction&&this.params.startingInstruction<this.curTrace.length),this.curInstr=this.params.startingInstruction),this.params.jumpToEnd){for(var i=-1,a=0;a<this.curTrace.length;a++){var o=this.curTrace[a];if("exception"==o.event||"uncaught_exception"==o.event){i=a;break}}this.curInstr=i>=0?i:this.curTrace.length-1}this.params.hideCode&&this.domRoot.find("#vizLayoutTdFirst").hide(),this.dataViz.precomputeCurTraceLayouts(),this.params.hideCode||this.codDisplay.renderPyCodeOutput(),this.updateOutput(),this.redrawConnectors(),this.hasRendered=!0,this.try_hook("end_render",{myViz:this})}},t.prototype._getSortedBreakpointsList=function(){var t=[];return this.breakpoints.forEach((function(e,r){t.push(Number(e))})),t.sort((function(t,e){return t-e})),t},t.prototype.addToBreakpoints=function(t){var e=this;a.each(t,(function(t,r){e.breakpoints.set(r,1)})),this.sortedBreakpointsList=this._getSortedBreakpointsList()},t.prototype.removeFromBreakpoints=function(t){var e=this;a.each(t,(function(t,r){e.breakpoints.remove(r)})),this.sortedBreakpointsList=this._getSortedBreakpointsList()},t.prototype.setBreakpoint=function(t){this.addToBreakpoints(t.executionPoints),this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList)},t.prototype.unsetBreakpoint=function(t){this.removeFromBreakpoints(t.executionPoints),this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList)},t.prototype.findPrevBreakpoint=function(){var t=this.curInstr;if(0==this.sortedBreakpointsList.length)return-1;for(var e=1;e<this.sortedBreakpointsList.length;e++){var r=this.sortedBreakpointsList[e-1],n=this.sortedBreakpointsList[e];if(t<=r)return-1;if(n>=t)return r}var i=this.sortedBreakpointsList[this.sortedBreakpointsList.length-1];return i<t?i:-1},t.prototype.findNextBreakpoint=function(){var t=this.curInstr;if(0==this.sortedBreakpointsList.length)return-1;if(a.inArray(t,this.sortedBreakpointsList)>=0)return t+1;for(var e=0;e<this.sortedBreakpointsList.length-1;e++){var r=this.sortedBreakpointsList[e],n=this.sortedBreakpointsList[e+1];if(t<r)return r;if(r<=t&&t<n)return n}var i=this.sortedBreakpointsList[this.sortedBreakpointsList.length-1];return i>t?i:-1},t.prototype.stepForward=function(){var t=this;if(t.curInstr<t.curTrace.length-1){if(t.sortedBreakpointsList.length>0){var e=t.findNextBreakpoint();-1!=e?t.curInstr=e:t.curInstr+=1}else t.curInstr+=1;return t.updateOutput(!0),!0}return!1},t.prototype.stepBack=function(){var t=this;if(t.curInstr>0){if(t.sortedBreakpointsList.length>0){var e=t.findPrevBreakpoint();-1!=e?t.curInstr=e:t.curInstr-=1}else t.curInstr-=1;return t.updateOutput(),!0}return!1},t.prototype.updateOutput=function(t){void 0===t&&(t=!1),this.params.hideCode?this.updateOutputMini():this.updateOutputFull(t),this.outputBox.renderOutput(this.curTrace[this.curInstr].stdout),this.try_hook("end_updateOutput",{myViz:this})},t.prototype.updateOutputFull=function(t){A(this.curTrace),A(!this.params.hideCode);var e=this;if(e.domRoot.is(":visible")){e.updateLineAndExceptionInfo();var r=e.dataViz.height();this.codDisplay.updateCodOutput(t),this.params.updateOutputCallback&&this.params.updateOutputCallback(this);var n=this.curTrace.length,a=0==this.curInstr,o=this.curInstr==n-1,s="Step "+String(this.curInstr+1)+" of "+String(n-1);o&&(s=this.promptForUserInput||this.promptForMouseInput?'<b><font color="'+p+'">Enter user input:</font></b>':this.instrLimitReached?"Step limit reached":"Done running ("+String(n-1)+" steps)"),this.navControls.setVcrControls(s,a,o),this.navControls.setSliderVal(this.curInstr),e.curLineExceptionMsg?"Unknown error"===e.curLineExceptionMsg?e.navControls.showError("Unknown error: "+i.O):e.navControls.showError(e.curLineExceptionMsg):this.instrLimitReached||e.navControls.showError(null),this.dataViz.renderDataStructures(this.curInstr),e.dataViz.height()!=r&&this.params.heightChangeCallback&&this.params.heightChangeCallback(this),o&&e.params.executeCodeWithRawInputFunc&&e.promptForUserInput?this.navControls.showUserInputDiv():this.navControls.hideUserInputDiv()}},t.prototype.updateOutputMini=function(){A(this.params.hideCode),this.dataViz.renderDataStructures(this.curInstr)},t.prototype.renderStep=function(t){A(0<=t),A(t<this.curTrace.length),this.curInstr!=t&&(this.curInstr=t,this.updateOutput())},t.prototype.redrawConnectors=function(){this.dataViz.redrawConnectors()},t.prototype.activateJavaFrontend=function(){var e=null;this.curTrace.forEach((function(t,r){"exception"!==t.event||t.line||(t.line=e),void 0!==t.stack_to_render&&t.stack_to_render.reverse(),e=t.line})),this.add_pytutor_hook("renderPrimitiveObject",(function(t){var e=t.obj,r=t.d3DomElement;if(e instanceof Array&&"VOID"==e[0])r.append('<span class="voidObj">void</span>');else if(e instanceof Array&&"NUMBER-LITERAL"==e[0])r.append('<span class="numberObj">'+e[1]+"</span>");else{if(!(e instanceof Array&&"CHAR-LITERAL"==e[0]))return[!1];for(var n=e[1].charCodeAt(0),i=e[1],a=n.toString(16);a.length<4;)a="0"+a;a="\\u"+a,"\n"==i?a="\\n":"\r"==i?a="\\r":"\t"==i?a="\\t":"\b"==i?a="\\b":"\f"==i?a="\\f":"'"==i?a="\\'":'"'==i?a='\\"':"\\"==i?a="\\\\":n>=32&&(a=i),r.append('<span class="stringObj">\''+a+"'</span>")}return[!0]})),this.add_pytutor_hook("isPrimitiveType",(function(t){var e=t.obj;return e instanceof Array&&"VOID"==e[0]||e instanceof Array&&"NUMBER-LITERAL"==e[0]||e instanceof Array&&"CHAR-LITERAL"==e[0]||e instanceof Array&&"ELIDE"==e[0]?[!0,!0]:[!1]})),this.add_pytutor_hook("end_updateOutput",(function(t){var e=t.myViz,r=e.curTrace[e.curInstr];if(e.params.stdin&&""!=e.params.stdin){var n=r.stdinPosition||0,a='<span style="color:lightgray;text-decoration: line-through">'+i(e.params.stdin.substr(0,n))+"</span>"+i(e.params.stdin.substr(n));e.domRoot.find("#stdinShow").html(a)}return[!1]})),this.add_pytutor_hook("end_render",(function(t){var e=t.myViz;e.params.stdin&&""!=e.params.stdin&&e.domRoot.find("#dataViz").append('<div id="stdinWrap">stdin:<pre id="stdinShow" style="border:1px solid gray"></pre></div>'),e.domRoot.find("#"+e.generateID("globals_header")).html("Static fields")})),this.add_pytutor_hook("isLinearObject",(function(t){var e=t.heapObj;return"STACK"==e[0]||"QUEUE"==e[0]?["true","true"]:["false"]})),this.add_pytutor_hook("renderCompoundObject",(function(t){t.objID;var e=t.d3DomElement,r=t.obj,n=t.typeLabelPrefix,i=t.myViz,o=t.stepNum;if("LIST"!=r[0]&&"QUEUE"!=r[0]&&"STACK"!=r[0])return[!1];var s=r[0].toLowerCase(),d={list:"array",queue:"queue",stack:"stack"}[s];if(1==r.length)return e.append('<div class="typeLabel">'+n+"empty "+d+"</div>"),[!0];e.append('<div class="typeLabel">'+n+d+"</div>"),e.append('<table class="'+s+'Tbl"></table>');var p=e.children("table");if("LIST"==r[0]){p.append("<tr></tr><tr></tr>");for(var l=p.find("tr:first"),c=p.find("tr:last"),u=1,h=0;u<r.length;u++){var f=r[u],m=f instanceof Array&&"ELIDE"==f[0];l.append('<td class="'+s+'Header"></td>'),l.find("td:last").append(m?"&hellip;":h),c.append('<td class="'+s+'Elt"></td>'),m?(c.find("td:last").append("&hellip;"),h+=f[1]):(i.renderNestedObject(f,o,c.find("td:last")),h++)}}return"STACK"==r[0]&&(p.append("<tr></tr><tr></tr>"),(c=p.find("tr:last")).append('<td class="'+s+'FElt"><span class="stringObj symbolic">&#8596;</span></td>'),a.each(r,(function(t,e){t<"1"||(c.append('<td class="'+s+'Elt"></td>'),i.renderNestedObject(e,o,c.find("td:last")))})),c.append('<td class="'+s+'LElt"></td>')),"QUEUE"==r[0]&&(p.append("<tr></tr><tr></tr>"),(c=p.find("tr:last")).append('<td class="'+s+'FElt"><span class="stringObj symbolic">&#8592;</span></td>'),a.each(r,(function(t,e){t<"1"||(c.append('<td class="'+s+'Elt"></td>'),i.renderNestedObject(e,o,c.find("td:last")))})),c.append('<td class="'+s+'LElt"><span class="stringObj symbolic">&#8592;</span></td>')),[!0]})),this.add_pytutor_hook("end_renderDataStructures",(function(t){var e=t.myViz;e.domRoot.find("td.instKey:contains('___NO_LABEL!___')").hide(),e.domRoot.find(".typeLabel:contains('dict')").each((function(t){"dict"==a(this).html()&&a(this).html("symbol table"),"empty dict"==a(this).html()&&a(this).html("empty symbol table")}))}));var r=t.prototype.generateID.bind(this);this.generateID=function(t){var e=t.replace(/[^0-9a-zA-Z_]/g,(function(t){return"-"+t.charCodeAt(0)+"-"}));return r(e)};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},i=function(t){return String(t).replace(/[&<>"'\/]/g,(function(t){return n[t]}))}},t.prototype.updateLineAndExceptionInfo=function(){var t=this,e=t.curTrace.length,r=t.curInstr===e-1;t.curLineNumber=void 0,t.prevLineNumber=void 0,t.curLineIsReturn=void 0,t.prevLineIsReturn=void 0,t.curLineExceptionMsg=void 0;var n=!t.instrLimitReached&&r,i=null,a=null,o=t.curTrace[t.curInstr],s="return"==o.event,d=!1;if(t.curInstr>0&&(a=t.curTrace[t.curInstr-1].line,d="return"==t.curTrace[t.curInstr-1].event)){var p=t.curInstr-1,l=t.curTrace[p].stack_to_render;if(l.length>0){for(var c=l[l.length-1].frame_id;p>=0;){var u=t.curTrace[p];if("call"==u.event&&u.stack_to_render&&u.stack_to_render[u.stack_to_render.length-1].frame_id==c)break;p--}p>0&&(a=t.curTrace[p-1].line,d=!1)}}var h=!1;"exception"!==o.event&&"uncaught_exception"!==o.event||(A(o.exception_msg),h=!0,t.curLineExceptionMsg=o.exception_msg),i=o.line,n&&!h&&a==i&&(i=null),t.curLineNumber=i,t.prevLineNumber=a,t.curLineIsReturn=s,t.prevLineIsReturn=d},t.prototype.isOutputLineVisibleForBubbles=function(t){var e=this.domRoot.find("#pyCodeOutputDiv"),r=a("#"+t).offset().top,n=e.offset().top,i=(e.scrollTop(),e.height());return n<=r&&r<n+i-25},t.curVisualizerID=1,t.DEFAULT_EMBEDDED_CODE_DIV_WIDTH=350,t.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT=400,t.DEFAULT_ALWAYS_NEST_TYPES=["FUNCTION","JS_FUNCTION","property","classmethod","staticmethod","builtin_function_or_method","member_descriptor","getset_descriptor","method_descriptor","wrapper_descriptor"],t}(),E=function(){function t(t,e,r){this.owner=t,this.params=this.owner.params,this.curTrace=this.owner.curTrace,this.domRoot=e,this.domRootD3=r,this.hideVarsSet=null,this.hideFieldsSet=null,this.draggedHeapObjectCSS=n.map();var i='\n      <div id="selectiveHideStatus"></div>\n      <div id="dataViz">\n         <table id="stackHeapTable">\n           <tr>\n             <td id="stack_td">\n               <div id="globals_area">\n                 <div id="stackHeader">'.concat(this.getRealLabel("Frames"),'</div>\n               </div>\n               <div id="stack"></div>\n             </td>\n             <td id="heap_td">\n               <div id="heap">\n                 <div id="heapHeader">').concat(this.getRealLabel("Objects"),"</div>\n               </div>\n             </td>\n           </tr>\n         </table>\n       </div>");this.domRoot.append(i),this.domRoot.find("#globals_area").append('<div class="stackFrame" id="'+this.owner.generateID("globals")+'"><div id="'+this.owner.generateID("globals_header")+'" class="stackFrameHeader">'+this.getRealLabel("Global frame")+'</div><table class="stackFrameVarTable" id="'+this.owner.generateID("global_table")+'"></table></div>'),this.jsPlumbInstance=jsPlumb.getInstance({Endpoint:["Dot",{radius:3}],EndpointStyles:[{fillStyle:l},{fillstyle:null}],Anchors:["RightMiddle","LeftMiddle"],PaintStyle:{lineWidth:1,strokeStyle:l},Container:this.domRoot,Connector:["StateMachine"],Overlays:[["Arrow",{length:10,width:7,foldback:.55,location:1}]],EndpointHoverStyles:[{fillStyle:c},{fillstyle:null}],HoverPaintStyle:{lineWidth:1,strokeStyle:c}})}return t.prototype.height=function(){return this.domRoot.find("#dataViz").height()},t.prototype.generateHeapObjID=function(t,e){return this.owner.generateID("heap_object_"+t)},t.prototype.getRealLabel=function(t){if("js"===this.params.lang||"ts"===this.params.lang||"ruby"===this.params.lang){if("list"===t)return"array";if("instance"===t)return"object";if("True"===t)return"true";if("False"===t)return"false"}if("js"===this.params.lang){if("dict"===t)return"Map";if("set"===t)return"Set"}else if("ruby"===this.params.lang){if("dict"===t)return"hash";if("set"===t)return"Set";if("function"===t)return"method";if("None"===t)return"nil";if("Global frame"===t)return"Global Object"}else if("java"===this.params.lang){if("None"===t)return"null";if("True"===t)return"true";if("False"===t)return"false"}else if("c"===this.params.lang||"cpp"===this.params.lang){if("Global frame"===t)return"Global variables";if("Frames"===t)return"Stack";if("Objects"===t)return"Heap"}return t},t.prototype.resetJsPlumbManager=function(){this.jsPlumbManager={heap_pointer_src_id:1,connectionEndpointIDs:n.map(),heapConnectionEndpointIDs:n.map(),parentPointerConnectionEndpointIDs:n.map(),renderedHeapObjectIDs:n.map()}},t.prototype.getAllProgramVarnames=function(){var e=[];return a.each(this.curTrace,(function(r,n){a.each(n.ordered_globals,(function(r,n){var i=t.GLOBAL_PREFIX+":"+n;e.indexOf(i)<0&&e.push(i)})),a.each(n.stack_to_render,(function(r,n){var i=n.func_name?n.func_name:t.UNNAMED_PREFIX;a.each(n.ordered_varnames,(function(t,r){var n=i+":"+r;e.indexOf(n)<0&&e.push(n)}))}))})),e},t.prototype.getAllProgramObjectFieldNames=function(){var e=this,r=[];function n(e){if("C_STRUCT"==e[0]){var i=e[2]?e[2]:t.UNNAMED_PREFIX;a.each(e,(function(t,e){if(!(t<"3")){var n=e[0],a=i+":"+n;r.indexOf(a)<0&&r.push(a)}}))}"C_ARRAY"===e[0]?a.each(e,(function(t,e){t<"2"||n(e)})):"C_MULTIDIMENSIONAL_ARRAY"!==e[0]&&"C_STRUCT"!==e[0]||a.each(e,(function(t,e){t<"3"||n(e[1])}))}return a.each(this.curTrace,(function(i,o){a.each(o.heap,(function(e,i){var a=i[0];if("INSTANCE"==a||"INSTANCE_PPRINT"==a||"CLASS"==a)for(var o=s(t.getClassInstanceMetadata(i),2),d=o[0],p=o[1];p<i.length;p++){var l=i[p][0],c=d?d+":"+l:l;r.indexOf(c)<0&&r.push(c)}else if("JS_FUNCTION"==a){var u=i[3];if(u)for(var h=i[1],f=0;f<u.length;f++)l=u[f][0],c=h?h+":"+l:l,r.indexOf(c)<0&&r.push(c)}else"C_ARRAY"!=a&&"C_MULTIDIMENSIONAL_ARRAY"!=a&&"C_STRUCT"!=a||n(i)})),e.isCppMode()&&(a.each(o.ordered_globals,(function(t,e){n(o.globals[e])})),a.each(o.stack_to_render,(function(t,e){a.each(e.ordered_varnames,(function(t,r){n(e.encoded_locals[r])}))})))})),r},t.prototype.precomputeCurTraceLayouts=function(){this.curTraceLayouts=[],this.curTraceLayouts.push([]);var e=this;A(this.curTrace&&this.curTrace.length>0),a.each(this.curTrace,(function(r,i){var d=e.curTraceLayouts[e.curTraceLayouts.length-1],p=a.extend(!0,[],d),l=n.map();a.each(p,(function(t,e){for(var r=1;r<e.length;r++)l.set(e[r],1)}));var c=n.map();function u(r,n,d){var p=i.heap[r];if(e.isCppMode()){if(!p)return}else A(p);if(function(t){var r=e.owner.try_hook("isLinearObj",{heapObj:t});return r[0]?r[1]:"LIST"==t[0]||"TUPLE"==t[0]||"SET"==t[0]}(p))a.each(p,(function(t,r){if(!(t<"1"||e.isPrimitiveType(r))){var a=k(r);e.structurallyEquivalent(p,i.heap[a])?h(a,n,d):e.owner.shouldNestObject(i.heap[a])||h(a,[],[])}}));else if("DICT"==p[0])a.each(p,(function(t,r){if(!(t<"1")){var a=r[0];if(!e.isPrimitiveType(a)){var o=k(a);e.owner.shouldNestObject(i.heap[o])||h(o,[],[])}var s=r[1];if(!e.isPrimitiveType(s)){var l=k(s);e.structurallyEquivalent(p,i.heap[l])?h(l,n,d):e.owner.shouldNestObject(i.heap[l])||h(l,[],[])}}}));else if("INSTANCE"==p[0]||"INSTANCE_PPRINT"==p[0]||"CLASS"==p[0]){var l=s(t.getClassInstanceMetadata(p),2),c=l[0],u=l[1];o.each(p,(function(t,r){if(!(t<u)){var a=r[0];if(!e.inHideFieldsSet(c,a)){if(!e.isPrimitiveType(a)){var o=k(a);e.owner.shouldNestObject(i.heap[o])||h(o,[],[])}var s=r[1];if(!e.isPrimitiveType(s)){var l=k(s);e.structurallyEquivalent(p,i.heap[l])?h(l,n,d):e.owner.shouldNestObject(i.heap[l])||h(l,[],[])}}}}))}else if("FUNCTION"==p[0]||"JS_FUNCTION"==p[0]){var m=null;if("FUNCTION"==p[0]&&p.length>3&&(m=p[3]),"JS_FUNCTION"==p[0]&&(A(5==p.length),m=p[3]),m){A(m.length>0);var v=p[1];a.each(m,(function(t,r){if("JS_FUNCTION"==p[0]){var n=r[0];if(e.inHideFieldsSet(v,n))return}var a=r[1];if(!e.isPrimitiveType(a)){var o=k(a);e.owner.shouldNestObject(i.heap[o])||h(o,[],[])}}))}}else"C_ARRAY"!=p[0]&&"C_MULTIDIMENSIONAL_ARRAY"!=p[0]&&"C_STRUCT"!=p[0]||f(p)}function h(t,e,r){if(!c.has(t)){var n=function(t){for(var e=0;e<p.length;e++){var r=p[e],n=r.indexOf(t);if(n>0)return{row:r,index:n}}return null}(t),i=c.has(t);if(c.set(t,1),n){var o=n.row,s=n.index;if(l.remove(t),!i&&r.length>1){for(var d=[s,0],h=1;h<r.length;h++)d.push(r[h]),l.remove(r[h]);o.splice.apply(o,d),r.splice(0,r.length)}u(t,o,[])}else if(0==r.length&&r.push("row"+t),r.push(t),u(t,e,r),r.length>0){if(e&&e.length>0)for(h=1;h<r.length;h++)e.push(r[h]);else p.push(a.extend(!0,[],r));for(h=1;h<r.length;h++)l.remove(r[h]);r.splice(0,r.length)}}}function f(r){var n,o,s;r&&(o=r,s=i.heap,("REF"===o[0]?void 0!==s[o[1]]:"C_DATA"===o[0]&&"pointer"===o[2]&&"<UNINITIALIZED>"!=o[3]&&"<UNALLOCATED>"!=o[3]&&void 0!==s[o[3]])&&h(k(r),null,[]),"C_ARRAY"===(n=r)[0]?a.each(n,(function(t,e){t<"2"||f(e)})):"C_MULTIDIMENSIONAL_ARRAY"!==n[0]&&"C_STRUCT"!==n[0]||a.each(n,(function(r,i){if(!(r<"3")){if("C_STRUCT"===n[0]){var a=n[2]?n[2]:t.UNNAMED_PREFIX,o=i[0];if(e.inHideFieldsSet(a,o))return}f(i[1])}})))}a.each(i.ordered_globals,(function(r,n){if(!e.inHideVarsSet(t.GLOBAL_PREFIX,n)){var a=i.globals[n];void 0!==a&&(e.isCppMode()?f(a):e.isPrimitiveType(a)||h(k(a),null,[]))}})),a.each(i.stack_to_render,(function(r,n){var i=n.func_name?n.func_name:t.UNNAMED_PREFIX;a.each(n.ordered_varnames,(function(t,r){if(!e.inHideVarsSet(i,r)){var a=n.encoded_locals[r];e.isCppMode()?f(a):e.isPrimitiveType(a)||h(k(a),null,[])}}))})),l.forEach((function(t,e){var r=Number(t);a.each(p,(function(t,e){var n=e.indexOf(r);n>0&&e.splice(n,1)}))})),p=p.filter((function(t){return t.length>1})),e.curTraceLayouts.push(p)})),this.curTraceLayouts.splice(0,1),A(this.curTrace.length==this.curTraceLayouts.length)},t.prototype.isCppMode=function(){return"c"===this.params.lang||"cpp"===this.params.lang},t.prototype.structurallyEquivalent=function(t,e){if(this.isPrimitiveType(t)||this.isPrimitiveType(e))return!1;if(t[0]!=e[0])return!1;if(t.length!=e.length)return!1;if("LIST"==t[0]||"TUPLE"==t[0])return!0;var r=-1;if("DICT"==t[0])r=1;else if("INSTANCE"==t[0])r=2;else{if("INSTANCE_PPRINT"!=t[0])return!1;r=3}for(var i=n.map(),a=r;a<t.length;a++)i.set(t[a][0],1);for(a=r;a<e.length;a++)if(!i.has(e[a][0]))return!1;return!0},t.prototype.isPrimitiveType=function(t){var e=this.owner.try_hook("isPrimitiveType",{obj:t});return e[0]?e[1]:null===t||"object"!=typeof t||"IMPORTED_FAUX_PRIMITIVE"==t[0]||"SPECIAL_FLOAT"==t[0]||"JS_SPECIAL_VAL"==t[0]||"C_DATA"==t[0]},t.prototype.renderDataStructures=function(e){var r=this,i=this.curTrace[e],o=this.curTraceLayouts[e];r.resetJsPlumbManager();var s=n.map();r.jsPlumbInstance.select({scope:"varValuePointer"}).each((function(t){t.sourceId.match(g)||s.set(t.sourceId,t.targetId)}));var d=n.map();r.jsPlumbInstance.select({scope:"frameParentPointer"}).each((function(t){d.set(t.sourceId,t.targetId)})),r.varsHidden=[],r.fieldsHidden=[],a.each(o,(function(t,n){for(var i=0;i<n.length;i++){var a=n[i],o=r.generateHeapObjID(a,e);r.jsPlumbManager.renderedHeapObjectIDs.set(o,1)}})),r.domRoot.find(".heapObject").each((function(t,e){var n=a(e).data("draggedCSS");n&&r.draggedHeapObjectCSS.set(a(e).attr("id"),n)})),r.domRoot.find("#heap").empty().html('<div id="heapHeader">'.concat(r.getRealLabel("Objects"),"</div>"));var p=r.domRootD3.select("#heap").selectAll("table.heapRow").attr("id",(function(t,e){return"heapRow"+e})).data(o,(function(t){return t[0]}));p.enter().append("table").attr("id",(function(t,e){return"heapRow"+e})).attr("class","heapRow"),p.exit().each((function(t,e){a(this).empty()})).remove();var c=p.selectAll("td.toplevelHeapObject").data((function(t,e){return t.slice(1,t.length)}),(function(t){return t}));c.enter().append("td").attr("class","toplevelHeapObject").attr("id",(function(t,e){return"toplevel_heap_object_"+t})),c.order().each((function(t,n){a(this).empty(),r.isCppMode()?void 0!==i.heap[t]&&r.renderCompoundObject(t,e,a(this),!0):r.renderCompoundObject(t,e,a(this),!0)})),c.exit().each((function(t,e){a(this).empty()})).remove();var h=[];a.each(i.ordered_globals,(function(e,n){if(r.inHideVarsSet(t.GLOBAL_PREFIX,n))return console.log("render HIDING",t.GLOBAL_PREFIX,n),void r.varsHidden.push(t.GLOBAL_PREFIX+":"+n);void 0!==i.globals[n]&&h.push(n)}));var f=r.owner.generateID("globals"),m=r.owner.generateID("global_table"),v=r.domRootD3.select("#"+m).selectAll("tr").data(h,(function(t){return t}));v.enter().append("tr").attr("class","variableTr").attr("id",(function(t,e){return r.owner.generateID(j("global__"+t+"_tr"))}));var y=v.selectAll("td.stackFrameVar,td.stackFrameValue").data((function(t,e){return[t,t]}));y.enter().append("td").attr("class",(function(t,e){return 0==e?"stackFrameVar":"stackFrameValue"})),y.order().each((function(t,n){if(0==n)a(this).html(t);else{a(this).empty();var o=r.owner.generateID("global__"+j(t));s.remove(o);var d=i.globals[t];if(r.isPrimitiveType(d))r.renderPrimitiveObject(d,e,a(this));else if("C_STRUCT"===d[0]||"C_ARRAY"===d[0]||"C_MULTIDIMENSIONAL_ARRAY"===d[0])r.renderCStructArray(d,e,a(this));else{var p=r.generateHeapObjID(k(d),e);if(r.params.textualMemoryLabels){var l=o+"_text_label";a(this).append('<div class="objectIdLabel" id="'+l+'">id'+k(d)+"</div>"),a(this).find("div#"+l).hover((function(){r.jsPlumbInstance.connect({source:l,target:p,scope:"varValuePointer"})}),(function(){r.jsPlumbInstance.select({source:l}).detach()}))}else a(this).append('<div class="stack_pointer" id="'+o+'">&nbsp;</div>'),A(!r.jsPlumbManager.connectionEndpointIDs.has(o)),r.jsPlumbManager.connectionEndpointIDs.set(o,p)}}})),y.exit().each((function(t,e){a(this).empty()})).remove(),v.exit().each((function(t,e){a(this).find(".stack_pointer").each((function(t,e){s.remove(a(e).attr("id"))})),a(this).empty()})).remove(),0==i.ordered_globals.length?this.domRoot.find("#"+f).hide():this.domRoot.find("#"+f).show();var I=r.domRootD3.select("#stack").selectAll("div.stackFrame,div.zombieStackFrame").data(i.stack_to_render,(function(t){return t.unique_hash})),_=I.enter().append("div").attr("class",(function(t,e){return t.is_zombie?"zombieStackFrame":"stackFrame"})).attr("id",(function(t,e){return t.is_zombie?r.owner.generateID("zombie_stack"+e):r.owner.generateID("stack"+e)})).attr("data-frame_id",(function(t,e){return t.frame_id})).attr("data-parent_frame_id",(function(t,e){return t.parent_frame_id_list.length>0?t.parent_frame_id_list[0]:null})).each((function(t,e){if(r.params.drawParentPointers){var n=a(this).attr("id");if(t.parent_frame_id_list.length>0){var o=t.parent_frame_id_list[0];r.domRoot.find("div#stack [data-frame_id="+o+"]").each((function(t,e){var i=a(this).attr("id");r.jsPlumbManager.parentPointerConnectionEndpointIDs.set(n,i)}))}else i.ordered_globals.length>0&&r.jsPlumbManager.parentPointerConnectionEndpointIDs.set(n,f);var s=t.frame_id;r.domRoot.find("div#stack [data-parent_frame_id="+s+"]").each((function(t,e){var i=a(this).attr("id");r.jsPlumbManager.parentPointerConnectionEndpointIDs.set(i,n)}))}}));_.append("div").attr("class","stackFrameHeader").html((function(t,e){var n=R(t.func_name).replace("&lt;lambda&gt;","λ");return(t.is_parent||r.params.showAllFrameLabels)&&(n="f"+t.frame_id+": "+n),t.parent_frame_id_list.length>0?n=n+" [parent=f"+t.parent_frame_id_list[0]+"]":r.params.showAllFrameLabels&&(n+=" [parent=Global]"),n})),_.append("table").attr("class","stackFrameVarTable");var S=I.order().select("table").selectAll("tr").data((function(e){if(r.hideVarsSet){var n=e.func_name?e.func_name:t.UNNAMED_PREFIX,i=e.ordered_varnames.filter((function(t){return r.inHideVarsSet(n,t)}));return console.log("render HIDING",n,i),i.forEach((function(t){r.varsHidden.push(n+":"+t)})),e.ordered_varnames.filter((function(t){return!r.inHideVarsSet(n,t)})).map((function(t){return{varname:t,frame:e}}))}return e.ordered_varnames.map((function(t){return{varname:t,frame:e}}))}),(function(t){if(t)return t.varname}));S.enter().append("tr").attr("class","variableTr").attr("id",(function(t,e){return r.owner.generateID(j(t.frame.unique_hash+"__"+t.varname+"_tr"))}));var L=S.selectAll("td.stackFrameVar,td.stackFrameValue").data((function(t,e){return[t,t]}));L.enter().append("td").attr("class",(function(t,e){return 0==e?"stackFrameVar":"stackFrameValue"})),L.order().each((function(t,n){var i=t.varname,o=t.frame;if(0==n)"__return__"==i?a(this).html('<span class="retval">Return<br/>value</span>'):a(this).html(i);else{a(this).empty();var d=r.owner.generateID(j(o.unique_hash+"__"+i));s.remove(d);var p=o.encoded_locals[i];if(r.isPrimitiveType(p))r.renderPrimitiveObject(p,e,a(this));else if("C_STRUCT"===p[0]||"C_ARRAY"===p[0]||"C_MULTIDIMENSIONAL_ARRAY"===p[0])r.renderCStructArray(p,e,a(this));else{var l=r.generateHeapObjID(k(p),e);if(r.params.textualMemoryLabels){var c=d+"_text_label";a(this).append('<div class="objectIdLabel" id="'+c+'">id'+k(p)+"</div>"),a(this).find("div#"+c).hover((function(){r.jsPlumbInstance.connect({source:c,target:l,scope:"varValuePointer"})}),(function(){r.jsPlumbInstance.select({source:c}).detach()}))}else a(this).append('<div class="stack_pointer" id="'+d+'">&nbsp;</div>'),A(!r.jsPlumbManager.connectionEndpointIDs.has(d)),r.jsPlumbManager.connectionEndpointIDs.set(d,l)}}})),L.exit().each((function(t,e){a(this).empty()})).remove(),S.exit().each((function(t,e){a(this).find(".stack_pointer").each((function(t,e){s.remove(a(e).attr("id"))})),a(this).empty()})).remove(),I.exit().each((function(t,e){a(this).find(".stack_pointer").each((function(t,e){s.remove(a(e).attr("id"))}));var r=a(this).attr("id");d.forEach((function(t,e){t!=r&&e!=r||d.remove(t)})),a(this).empty()})).remove();var w={},E=r.jsPlumbManager.heapConnectionEndpointIDs.keys();function O(t,e){r.isCppMode()?r.domRoot.find("#"+e).length?r.jsPlumbInstance.connect({source:t,target:e,scope:"varValuePointer"}):r.domRoot.find("#"+t).html("💩"):r.jsPlumbInstance.connect({source:t,target:e,scope:"varValuePointer"})}function C(t,e){0!=r.domRoot.find("#"+t).length&&0!=r.domRoot.find("#"+e).length&&r.jsPlumbInstance.connect({source:t,target:e,anchors:["LeftMiddle","LeftMiddle"],connector:["Bezier",{curviness:45}],endpoint:["Dot",{radius:4}],scope:"frameParentPointer"})}function T(t){r.jsPlumbInstance.select().each((function(e){var n=e.source.closest(".stackFrame");n.attr("id")==t?(e.setPaintStyle({lineWidth:1,strokeStyle:l}),e.endpoints[0].setPaintStyle({fillStyle:l}),a(e.canvas).css("z-index",1e3)):r.jsPlumbManager.heapConnectionEndpointIDs.has(e.endpoints[0].elementId)||n.length>0&&(e.setPaintStyle({lineWidth:1,strokeStyle:u}),e.endpoints[0].setPaintStyle({fillStyle:u}),a(e.canvas).css("z-index",0))})),r.domRoot.find(".stackFrame").removeClass("highlightedStackFrame"),r.domRoot.find("#"+t).addClass("highlightedStackFrame")}E.sort(),a.each(E,(function(t,e){var i=r.jsPlumbManager.heapConnectionEndpointIDs.get(e),a=r.domRoot.find("#"+e),o=a.closest(".heapObject"),s=r.domRoot.find("#"+i).closest(".heapObject"),d=o.closest(".heapRow"),p=s.closest(".heapRow"),l=d.attr("id"),c=p.attr("id");if(l!=c){var u=a.offset().left,h=(o.offset().left,s.offset().left);if(u>h){var f=u-h+32;s.css("margin-left","+="+f);var m=w[l];void 0===m&&(m=n.map(),w[l]=m),m.set(c,1);var v=w[c];v&&v.forEach((function(t,e){t!=l&&(r.domRoot.find("#"+t).children(".toplevelHeapObject").children(".heapObject").css("margin-left","+="+f),m.set(t,1))}))}}})),r.jsPlumbInstance.reset(),r.params.textualMemoryLabels||(r.isCppMode()||s.forEach(O),r.jsPlumbManager.connectionEndpointIDs.forEach(O)),r.params.drawParentPointers&&(d.forEach(C),r.jsPlumbManager.parentPointerConnectionEndpointIDs.forEach(C));var D=!1;a.each(i.stack_to_render,(function(t,e){e.is_highlighted&&(T(r.owner.generateID("stack"+t)),D=!0)})),D||T(r.owner.generateID("globals"));var x=!1;if(r.domRoot.find(".heapObject").each((function(t,e){if(!a(e).parents(".heapObject").length){var n=r.draggedHeapObjectCSS.get(a(e).attr("id"));n&&(a(e).attr("style",n),x=!0),r.owner.navControls.customizeVizOptionsShown&&a(e).css("cursor","pointer").draggable({drag:function(){a.doTimeout("heapObjectDrag",10,(function(){console.log("drag"),r.redrawConnectors()}))},start:function(){},stop:function(){r.redrawConnectors(),a(e).css("width","").css("height",""),a(e).data("draggedCSS",a(e).attr("style"))}})}})),r.owner.navControls.customizeVizOptionsShown){x=!0;var N=this.domRoot.find("#selectiveHideStatus");if(N.empty(),r.varsHidden.length>0||r.fieldsHidden.length>0){if(r.varsHidden.length>0){var P=[];r.varsHidden.forEach((function(t){P.indexOf(t)<0&&P.push(t)})),N.append("Hidden variables: "+b(P))}if(r.fieldsHidden.length>0){var V=[];r.fieldsHidden.forEach((function(t){V.indexOf(t)<0&&V.push(t)})),N.append("<br/>Hidden object fields: "+b(V))}}}x&&r.redrawConnectors(),r.owner.try_hook("end_renderDataStructures",{myViz:r.owner})},t.prototype.renderPrimitiveObject=function(t,e,r){var n=this;if(!this.owner.try_hook("renderPrimitiveObject",{obj:t,d3DomElement:r})[0]){var i=typeof t;if(null==t)r.append('<span class="nullObj">'+this.getRealLabel("None")+"</span>");else if("number"==i)r.append('<span class="numberObj">'+t+"</span>");else if("boolean"==i)t?r.append('<span class="boolObj">'+this.getRealLabel("True")+"</span>"):r.append('<span class="boolObj">'+this.getRealLabel("False")+"</span>");else if("string"==i)g='"'+(g=(g=R(t)).replace(S,'\\"'))+'"',r.append('<span class="stringObj">'+g+"</span>");else if("object"==i)if("C_DATA"==t[0]){var o=t[2];"short int"===o?o="short":"short unsigned int"===o?o="unsigned short":"long int"===o?o="long":"long long int"===o?o="long long":"long unsigned int"===o?o="unsigned long":"long long unsigned int"===o&&(o="unsigned long long int");var s="pointer"===o&&"<UNINITIALIZED>"!==t[3]&&"<UNALLOCATED>"!==t[3],d=t[1],p=n.generateHeapObjID("cdata_"+d,e);if(s){r.append('<div id="'+p+'" class="cdataHeader">'+o+"</div>");var l=t[3],c=n.generateHeapObjID("ptrSrc_"+d,e),u=n.generateHeapObjID("cdata_"+l,e);if(r.append('<div style="width: 10px;" id="'+c+'" class="cdataElt">&nbsp;</div>'),"0x0"===l)a("#"+c).html('<span class="cdataUninit">NULL</span>');else{A(!n.jsPlumbManager.connectionEndpointIDs.has(c)),n.jsPlumbManager.connectionEndpointIDs.set(c,u);var h=n.domRoot.find("#"+c),f=n.domRoot.find("#"+u),m=h.closest(".heapObject"),v=f.closest(".heapObject");m.length>0&&v.length>0&&n.jsPlumbManager.heapConnectionEndpointIDs.set(c,u)}}else{r.append('<div class="cdataHeader">'+o+"</div>");var g,y="";"string"==typeof t[3]?"<UNINITIALIZED>"===(g=t[3])?y='<span class="cdataUninit">?</span>':"<UNALLOCATED>"==g?y="💀":(g=(g=(g=g.replace(_,"\\n")).replace(L,"\\t")).replace(S,'\\"'),y=R(g="char"===o&&"???"===g?"�":"'"+g+"'")):y=R(t[3]),r.append('<div id="'+p+'" class="cdataElt">'+y+"</div>")}}else"IMPORTED_FAUX_PRIMITIVE"==t[0]?r.append('<span class="importedObj">'+t[1]+"</span>"):(A("SPECIAL_FLOAT"==t[0]||"JS_SPECIAL_VAL"==t[0]),r.append('<span class="numberObj">'+t[1]+"</span>"));else A(!1)}},t.prototype.renderNestedObject=function(t,e,r){this.isPrimitiveType(t)?this.renderPrimitiveObject(t,e,r):"REF"===t[0]?this.renderCompoundObject(k(t),e,r,!1):(A("C_STRUCT"===t[0]||"C_ARRAY"===t[0]||"C_MULTIDIMENSIONAL_ARRAY"===t[0]),this.renderCStructArray(t,e,r))},t.prototype.renderCompoundObject=function(e,r,n,i){var d=this,p=d.generateHeapObjID(e,r);if(i||!d.jsPlumbManager.renderedHeapObjectIDs.has(p)){n.append('<div class="heapObject" id="'+p+'"></div>'),n=d.domRoot.find("#"+p),d.jsPlumbManager.renderedHeapObjectIDs.set(p,1);var l=d.curTrace[r].heap[e];A(a.isArray(l));var c="";if(d.params.textualMemoryLabels&&(c="id"+e+":"),!d.owner.try_hook("renderCompoundObject",{objID:e,d3DomElement:n,isTopLevel:i,obj:l,typeLabelPrefix:c,stepNum:r,myViz:d})[0])if("LIST"==l[0]||"TUPLE"==l[0]||"SET"==l[0]||"DICT"==l[0]){var u=l[0].toLowerCase();if(A(l.length>=1),1==l.length)n.append('<div class="typeLabel">'+c+" empty "+d.getRealLabel(u)+"</div>");else{n.append('<div class="typeLabel">'+c+d.getRealLabel(u)+"</div>"),n.append('<table class="'+u+'Tbl"></table>');var h=n.children("table");if("LIST"==l[0]||"TUPLE"==l[0]){h.append("<tr></tr><tr></tr>");var f=h.find("tr:first"),m=h.find("tr:last");a.each(l,(function(t,e){t<"1"||(f.append('<td class="'+u+'Header"></td>'),m.append('<td class="'+u+'Elt"></td>'),d.renderNestedObject(e,r,m.find("td:last")))}))}else if("SET"==l[0]){var v=l.length-1,g=Math.round(Math.sqrt(v));g>3&&(g-=1);var y=Math.round(v/g);v%g&&(y+=1),o.each(l,(function(t,e){if(!(t<"1")){(parseInt(t)-1)%y==0&&h.append("<tr></tr>");var n=h.find("tr:last");n.append('<td class="setElt"></td>'),d.renderNestedObject(e,r,n.find("td:last"))}}))}else"DICT"==l[0]&&a.each(l,(function(t,e){if(!(t<"1")){h.append('<tr class="dictEntry"><td class="dictKey"></td><td class="dictVal"></td></tr>');var n=h.find("tr:last"),i=n.find("td:first"),a=n.find("td:last"),o=e[0],s=e[1];d.renderNestedObject(o,r,i),d.renderNestedObject(s,r,a)}}))}}else if("INSTANCE"==l[0]||"INSTANCE_PPRINT"==l[0]||"CLASS"==l[0]){var b="INSTANCE"==l[0],I="INSTANCE_PPRINT"==l[0],_=s(t.getClassInstanceMetadata(l),2),S=_[0],L=_[1];if(A(l.length>=L),b)n.append('<div class="typeLabel">'+c+l[1]+" "+d.getRealLabel("instance")+"</div>");else if(I)n.append('<div class="typeLabel">'+c+l[1]+" "+d.getRealLabel("instance")+"</div>"),n.append('<table class="customObjTbl"><tr><td class="customObjElt">'+R(l[2])+"</td></tr></table>");else{var w="";l[2].length>0&&(w+="[extends "+l[2].join(", ")+"] "),n.append('<div class="typeLabel">'+c+l[1]+" class "+w+"</div>")}if(l.length>L){var E=b?"inst":"class";n.append('<table class="'+E+'Tbl"></table>'),h=n.children("table:last"),a.each(l,(function(t,e){if(!(t<L)){if(d.inHideFieldsSet(S,e[0]))return console.log("render HIDING",S,e[0]),void d.fieldsHidden.push((S?S+":":"")+e[0]);h.append('<tr class="'+E+'Entry"><td class="'+E+'Key"></td><td class="'+E+'Val"></td></tr>');var n=h.find("tr:last"),i=n.find("td:first"),a=n.find("td:last");if("string"==typeof e[0]){var o=R(e[0]);i.append('<span class="keyObj">'+o+"</span>")}else d.renderNestedObject(e[0],r,i);d.renderNestedObject(e[1],r,a)}}))}}else if("FUNCTION"==l[0]){A(3==l.length||4==l.length);var O=R(l[1]).replace("&lt;lambda&gt;","λ"),C=l[2];d.params.compactFuncLabels||n.append('<div class="typeLabel">'+c+d.getRealLabel("function")+"</div>");var T=d.params.compactFuncLabels?"func":"";C?n.append('<div class="funcObj">'+T+" "+O+" [parent=f"+C+"]</div>"):d.params.showAllFrameLabels?n.append('<div class="funcObj">'+T+" "+O+" [parent=Global]</div>"):n.append('<div class="funcObj">'+T+" "+O+"</div>"),l.length>3&&(A((x=l[3]).length>0),n.append('<div class="typeLabel" style="margin-top: 3px;">default arguments:</div>'),n.append('<table class="instTbl"></table>'),h=n.children("table"),a.each(x,(function(t,e){h.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');var n=h.find("tr:last"),i=n.find("td:first"),a=n.find("td:last");i.append('<span class="keyObj">'+R(e[0])+"</span>"),d.renderNestedObject(e[1],r,a)})))}else if("JS_FUNCTION"==l[0]){A(5==l.length),O=R(l[1]);var D=c+R(l[2]),x=l[3];if(C=l[4],x||C||d.params.showAllFrameLabels){if(n.append('<table class="classTbl"></table>'),(h=n.children("table")).append('<tr><td class="funcCod" colspan="2"><pre class="funcCode">'+D+"</pre></td></tr>"),x){A(x.length>0);var j=l[1];a.each(x,(function(t,e){if(e[0],d.inHideFieldsSet(j,e[0]))return console.log("render HIDING",j,e[0]),void d.fieldsHidden.push((j?j+":":"")+e[0]);h.append('<tr class="classEntry"><td class="classKey"></td><td class="classVal"></td></tr>');var n=h.find("tr:last"),i=n.find("td:first"),a=n.find("td:last");i.append('<span class="keyObj">'+R(e[0])+"</span>"),d.renderNestedObject(e[1],r,a)}))}C?h.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">f'+C+"</td></tr>"):d.params.showAllFrameLabels&&h.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">global</td></tr>')}else n.append('<pre class="funcCode">'+D+"</pre>")}else if("HEAP_PRIMITIVE"==l[0]){A(3==l.length);var k=l[1],N=l[2];n.append('<div class="heapPrimitive"></div>'),n.find("div.heapPrimitive").append('<div class="typeLabel">'+c+k+"</div>"),d.renderPrimitiveObject(N,r,n.find("div.heapPrimitive"))}else if("C_STRUCT"==l[0]||"C_ARRAY"==l[0]||"C_MULTIDIMENSIONAL_ARRAY"===l[0])d.renderCStructArray(l,r,n);else{A(2==l.length),k=l[0];var P=l[1];P=R(P),n.append('<div class="typeLabel">'+c+k+"</div>"),n.append('<table class="customObjTbl"><tr><td class="customObjElt">'+P+"</td></tr></table>")}}else{var V=d.owner.generateID("heap_pointer_src_"+d.jsPlumbManager.heap_pointer_src_id);d.jsPlumbManager.heap_pointer_src_id++;var z=p;if(d.params.textualMemoryLabels){var F=V+"_text_label";n.append('<div class="objectIdLabel" id="'+F+'">id'+e+"</div>"),d.domRoot.find("div#"+F).hover((function(){d.jsPlumbInstance.connect({source:F,target:z,scope:"varValuePointer"})}),(function(){d.jsPlumbInstance.select({source:F}).detach()}))}else n.append('<div id="'+V+'">&nbsp;</div>'),A(!d.jsPlumbManager.connectionEndpointIDs.has(V)),d.jsPlumbManager.connectionEndpointIDs.set(V,z),A(!d.jsPlumbManager.heapConnectionEndpointIDs.has(V)),d.jsPlumbManager.heapConnectionEndpointIDs.set(V,z)}},t.prototype.renderCStructArray=function(e,r,i){var o=this;if("C_STRUCT"==e[0]){A(e.length>=3),e[1];var s=e[2],d="";if("cpp"===o.params.lang?i.append('<div class="typeLabel">'+d+"object "+s+"</div>"):i.append('<div class="typeLabel">'+d+"struct "+s+"</div>"),e.length>3){i.append('<table class="instTbl"></table>');var p=i.children("table"),l=e[2]?e[2]:t.UNNAMED_PREFIX;a.each(e,(function(t,e){if(!(t<"3")){var n=e[0];if(o.inHideFieldsSet(l,n))return console.log("render HIDING",l,n),void o.fieldsHidden.push(l+":"+n);p.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');var i=p.find("tr:last"),a=i.find("td:first"),s=i.find("td:last");A("string"==typeof e[0]);var d=R(e[0]);a.append('<span class="keyObj">'+d+"</span>"),o.renderNestedObject(e[1],r,s)}}))}}else if("C_MULTIDIMENSIONAL_ARRAY"==e[0]){A(e.length>=3),e[1];var c=e[2];A(c.length>1),d="",i.append('<div class="typeLabel">'+d+"array</div>"),i.append('<table class="cArrayTbl"></table>'),p=i.children("table");for(var u=[],h=0;h<c.length;h++)u.push(n.range(c[h]));var f=y(u[0],u[1]);for(h=2;h<c.length;h++)f=y(f,u[h]);for(var m=1,v=1;v<c.length;v++)m*=c[v];for(var g=0;g<c[0];g++){p.append("<tr></tr>");var b=p.find("tr:last");p.append("<tr></tr>");for(var I=p.find("tr:last"),_=0;_<m;_++){var S=g*m+_,L=e[S+3],w=f[S].join(",");b.append('<td class="cMultidimArrayHeader"></td>'),b.find("td:last").append(w),I.append('<td class="cMultidimArrayElt"></td>'),o.renderNestedObject(L,r,I.find("td:last"))}}}else A("C_ARRAY"==e[0]),A(e.length>=2),e[1],d="",i.append('<div class="typeLabel">'+d+"array</div>"),i.append('<table class="cArrayTbl"></table>'),(p=i.children("table")).append("<tr></tr><tr></tr>"),b=p.find("tr:first"),I=p.find("tr:last"),a.each(e,(function(t,e){t<"2"||(b.append('<td class="cArrayHeader"></td>'),b.find("td:last").append(parseInt(t)-2),I.append('<td class="cArrayElt"></td>'),o.renderNestedObject(e,r,I.find("td:last")))}))},t.prototype.redrawConnectors=function(){this.jsPlumbInstance.repaintEverything()},t.prototype.selectivelyHideVarsAndFields=function(t,e){var r=this;t.length>0?(this.hideVarsSet=n.map(),t.forEach((function(t){return r.hideVarsSet.set(t,!0)}))):this.hideVarsSet=null,e.length>0?(this.hideFieldsSet=n.map(),e.forEach((function(t){return r.hideFieldsSet.set(t,!0)}))):this.hideFieldsSet=null,this.precomputeCurTraceLayouts(),this.renderDataStructures(this.owner.curInstr)},t.getClassInstanceMetadata=function(t){var e=t[0];return A("INSTANCE"==e||"INSTANCE_PPRINT"==e||"CLASS"==e),[t[1],"INSTANCE"==e?2:3]},t.prototype.inHideVarsSet=function(e,r){return t._inHideSetHelper(this.hideVarsSet,e,r)},t.prototype.inHideFieldsSet=function(e,r){return t._inHideSetHelper(this.hideFieldsSet,e,r)},t._inHideSetHelper=function(t,e,r){return!!t&&(e&&t.has(e+":"+r)||t.has(r))},t.GLOBAL_PREFIX="global",t.UNNAMED_PREFIX="<unnamed>",t}(),O=function(){function t(t,e,r){var n;void 0===r&&(r=null),this.numStdoutLines=0,this.owner=t,this.domRoot=e,this.domRoot.append('<div id="progOutputs">         <div id="printOutputDocs">Print output (drag lower right corner to resize)</div>\n         <textarea id="pyStdout" cols="40" rows="5" wrap="off" readonly></textarea>       </div>');for(var i=this.owner.curTrace.length-1;i>=0&&!(n=this.owner.curTrace[i].stdout);i--);n&&(this.numStdoutLines=n.rtrim().split("\n").length);var a="75px";this.numStdoutLines<=3&&(a=25*this.numStdoutLines+"px"),r&&(a=r),this.domRoot.find("#pyStdout").width("350px").height(a).resizable()}return t.prototype.renderOutput=function(t){if(t||(t=""),this.numStdoutLines>0){this.domRoot.find("#progOutputs").show();var e=this.domRoot.find("#pyStdout"),r=e.scrollLeft();e.val(t.rtrim()),e.scrollLeft(r),e.scrollTop(e[0].scrollHeight)}else this.domRoot.find("#progOutputs").hide()},t}(),C=function(){function t(t,e,r,n,i,o){if(this.leftGutterSvgInitialized=!1,this.owner=t,this.domRoot=e,this.domRootD3=r,this.codToDisplay=n,this.domRoot.append('<div id="codeDisplayDiv">         <div id="langDisplayDiv"></div>         <div id="pyCodeOutputDiv"/>         <div id="editCodeLinkDiv"><a id="editBtn">Edit this code</a>         </div>         <div id="legendDiv"/>         <div id="codeFooterDocs"></div>       </div>'),this.owner.params.embeddedMode&&this.domRoot.find("#editCodeLinkDiv").css("font-size","10pt"),this.domRoot.find("#legendDiv").append('<svg id="prevLegendArrowSVG"/> line that just executed').append('<p style="margin-top: 4px"><svg id="curLegendArrowSVG"/> next line to execute</p>'),this.domRootD3.select("svg#prevLegendArrowSVG").append("polygon").attr("points",d).attr("fill",v),this.domRootD3.select("svg#curLegendArrowSVG").append("polygon").attr("points",d).attr("fill",m),o){var s=a.param.fragment(o,{code:this.codToDisplay,py:"pyodide"},2);this.domRoot.find("#editBtn").attr("href",s)}else this.domRoot.find("#editCodeLinkDiv").hide(),this.domRoot.find("#editBtn").attr("href","#"),this.domRoot.find("#editBtn").click((function(){return!1}))}return t.prototype.renderPyCodeOutput=function(){var t=this,e=this;this.domRoot.find("#pyCodeOutputDiv").empty();var r=this.domRootD3.select("#pyCodeOutputDiv").append("table").attr("id","pyCodeOutput").selectAll("tr").data(this.owner.codeOutputLines).enter().append("tr").selectAll("td").data((function(t,e){return[t,t]})).enter().append("td").attr("class",(function(t,e){return 0==e?"lineNo togetherjsCloneClick":"cod togetherjsCloneClick"})).attr("id",(function(e,r){return 0==r?"lineNo"+e.lineNumber:t.owner.generateID("cod"+e.lineNumber)})).html((function(t,e){return 0==e?t.lineNumber:R(t.text)}));this.domRoot.find("#pyCodeOutput tr:first").prepend('<td id="gutterTD" valign="top" rowspan="'+this.owner.codeOutputLines.length+'"><svg id="leftCodeGutterSVG"/></td>'),this.domRootD3.select("svg#leftCodeGutterSVG").append("polygon").attr("id","prevLineArrow").attr("points",d).attr("fill",v),this.domRootD3.select("svg#leftCodeGutterSVG").append("polygon").attr("id","curLineArrow").attr("points",d).attr("fill",m),r.style("cursor",(function(t,e){var r=t.executionPoints;return r&&0!=r.length?"pointer":void 0})).on("click",(function(t,r){var i=t.executionPoints;i&&0!=i.length&&(t.breakpointHere=!t.breakpointHere,t.breakpointHere?(e.owner.setBreakpoint(t),n.select(this.parentNode).select("td.lineNo").style("color",f),n.select(this.parentNode).select("td.lineNo").style("font-weight","bold"),n.select(this.parentNode).select("td.cod").style("color",f)):(e.owner.unsetBreakpoint(t),n.select(this.parentNode).select("td.lineNo").style("color",""),n.select(this.parentNode).select("td.lineNo").style("font-weight",""),n.select(this.parentNode).select("td.cod").style("color","")))}))},t.prototype.updateCodOutput=function(t){var e=this;void 0===t&&(t=!1);var r=this.domRoot.find("svg#leftCodeGutterSVG");if(!this.leftGutterSvgInitialized){r.height(r.parent().height());var n=this.domRoot.find("table#pyCodeOutput tr:first").offset().top;if(this.codeRowHeight=this.domRoot.find("table#pyCodeOutput td.cod:first").height(),this.owner.codeOutputLines.length>1){var i=this.domRoot.find("table#pyCodeOutput tr:nth-child(2)").offset().top;this.codeRowHeight=i-n}A(this.codeRowHeight>0);var a=r.offset().top-n;this.arrowOffsetY=Math.floor(this.codeRowHeight/2-5)-a,this.leftGutterSvgInitialized=!0}A(void 0!==this.arrowOffsetY),A(void 0!==this.codeRowHeight),A(0<=this.arrowOffsetY&&this.arrowOffsetY<=this.codeRowHeight);var o=this.owner,s=o.curInstr===o.curTrace.length-1,d=o.curTrace[o.curInstr],p="exception"===d.event||"uncaught_exception"===d.event,l=!o.instrLimitReached&&s,c=this.domRoot.find("#pyCodeOutputDiv"),u=o.prevLineIsReturn?Math.floor(this.codeRowHeight/3):0,f=o.curLineIsReturn?Math.floor(this.codeRowHeight/3):0;if(l&&!p&&o.prevLineNumber!==o.curLineNumber&&(f-=2),o.prevLineNumber){var m=this.domRootD3.select("#prevLineArrow"),g="translate(0, "+((o.prevLineNumber-1)*this.codeRowHeight+this.arrowOffsetY+u)+")";t?m.transition().duration(200).attr("fill","white").each("end",(function(){m.attr("transform",g).attr("fill",v),r.find("#prevLineArrow").show()})):(m.attr("transform",g),r.find("#prevLineArrow").show())}else r.find("#prevLineArrow").hide();if(o.curLineNumber){var y=this.domRootD3.select("#curLineArrow"),b="translate(0, "+((o.curLineNumber-1)*this.codeRowHeight+this.arrowOffsetY+f)+")";t?y.transition().delay(200).duration(250).attr("transform",b):y.attr("transform",b),r.find("#curLineArrow").show()}else r.find("#curLineArrow").hide();this.domRootD3.selectAll("#pyCodeOutputDiv td.cod").style("border-top",(function(t){return p&&t.lineNumber==d.line?"1px solid "+h:""})).style("border-bottom",(function(t){return p&&t.lineNumber==d.line?"1px solid "+h:""})),function(t){var r=e.domRoot.find("#lineNo"+t);if(!r||0===r.length)return!1;var n=r.offset().top,i=c.offset().top,a=(c.scrollTop(),c.height());return i<=n&&n<i+a-30}(d.line)||function(t){var r=e.domRoot.find("#lineNo"+t);if(!r||0===r.length)return!1;var n=r.offset().top,i=c.offset().top,a=c.scrollTop(),o=c.height();c.stop(),c.animate({scrollTop:a+(n-i-Math.round(o/2))},300)}(d.line)},t}(),T=function(){function t(t,e,r,n){var i=this,o=this;this.owner=t,this.domRoot=e,this.domRootD3=r,this.nSteps=n,this.customizeVizOptionsShown=!1,this.domRoot.append('<div id="navControlsDiv">                     <div id="executionSlider"/>                     <div id="executionSliderFooter"/>                     <div id="vcrControls">                       <button id="jmpFirstInstr", type="button">&lt;&lt; First</button>                       <button id="jmpStepBack", type="button">&lt; Prev</button>                       <button id="jmpStepFwd", type="button">Next &gt;</button>                       <button id="jmpLastInstr", type="button">Last &gt;&gt;</button>                     </div>                     <div id="curInstr">Step ? of ?</div>                     <div id="rawUserInputDiv">                       <span id="userInputPromptStr"/>                       <input type="text" id="raw_input_textbox" size="30"/>                       <button id="raw_input_submit_btn">Submit</button>                     </div>                     <div id="errorOutput"/>                     <div id="creditsPane"></div>                     <div id="uiControlsPane"><a id="customizeVizLink" href="#">Customize visualization</a> (<font color="#e93f34">NEW!</font>)</div>                   </div>'),this.domRoot.find("#jmpFirstInstr").click((function(){i.owner.renderStep(0)})),this.domRoot.find("#jmpLastInstr").click((function(){i.owner.renderStep(i.nSteps-1)})),this.domRoot.find("#jmpStepBack").click((function(){i.owner.stepBack()})),this.domRoot.find("#jmpStepFwd").click((function(){i.owner.stepForward()})),this.domRoot.find("#vcrControls #jmpFirstInstr").attr("disabled",!0),this.domRoot.find("#vcrControls #jmpStepBack").attr("disabled",!0),this.domRoot.find("#vcrControls #jmpStepFwd").attr("disabled",!0),this.domRoot.find("#vcrControls #jmpLastInstr").attr("disabled",!0);var s=this.domRoot.find("#rawUserInputDiv");s.find("#userInputPromptStr").html(this.owner.userInputPromptStr),s.find("#raw_input_submit_btn").click((function(){var t=s.find("#raw_input_textbox").val();i.owner.params.executeCodeWithRawInputFunc(t,i.owner.curInstr+1)}));var d=this.domRoot.find("#uiControlsPane");d.find("#customizeVizLink").click((function(){if(!i.customizeVizOptionsShown){i.customizeVizOptionsShown=!0,d.append('         <div style="margin-top: 8px;"/>          <font color="#e93f34">Warning:</font> Reloading this page loses all changes;          customizations <em>NOT</em> shared in URL or chat sessions          <p/><b>Drag</b> any object around to move it. Customize its pointers:          <div style="margin-top: 12px; margin-bottom: 5px;">          Line style:          <select id="jsplumbConnectorType">            <option value="StateMachine" selected>Default</option>            <option value="Bezier">Bezier</option>            <option value="Straight">Straight</option>            <option value="Flowchart">Flowchart</option>          </select>          </div>          <div class="sliderWrapper">Curve: <input type="range" min="0" max="100" value="10" class="jsplumbOptionSlider" id="smCurviness"><span class="sliderVal">10</span></div>          <div class="sliderWrapper">Curve: <input type="range" min="0" max="500" value="150" class="jsplumbOptionSlider" id="bezierCurviness"><span class="sliderVal">150</span></div>          <div class="sliderWrapper">Margin: <input type="range" min="0" max="20" value="5" class="jsplumbOptionSlider" id="margin"><span class="sliderVal">5</span></div>          <div class="sliderWrapper">Stub: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="stub"><span class="sliderVal">0</span></div>          <div class="sliderWrapper">Gap: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="gap"><span class="sliderVal">0</span></div>          <div class="sliderWrapper">Midpoint: <input type="range" min="0" max="10" value="0.5" step="0.5" class="jsplumbOptionSlider" id="midpoint"><span class="sliderVal">0.5</span></div>          <div class="sliderWrapper">CornerRadius: <input type="range" min="0" max="10" value="0" class="jsplumbOptionSlider" id="cornerRadius"><span class="sliderVal">0</span></div>          <div class="sliderWrapper">Arrow length: <input type="range" min="1" max="30" value="10" class="jsplumbOptionSlider" id="arrowLength"><span class="sliderVal">10</span></div>          <div class="sliderWrapper">Arrow width: <input type="range" min="1" max="30" value="7" class="jsplumbOptionSlider" id="arrowWidth"><span class="sliderVal">7</span></div>          <div class="sliderWrapper">Arrow fold: <input type="range" min="0" max="1" value="0.55" step="0.05" class="jsplumbOptionSlider" id="arrowFoldback"><span class="sliderVal">0.55</span></div>          <div id="selectiveHideDiv" style="margin-top: 15px; padding: 6px 6px 6px 6px; border: 1px solid #ccc;">            <b>Hide variables/fields</b> (elements may end up out of order, so reload page to reset)<br/>            <button id="updateHideVarsBtn" style="margin-top: 8px;">Update visualization</button>            <p/>All choices below; use part after colon to match all variables/fields with that name.<br/>            <font color="#e93f34">(Double-check your spelling!)</font>            <p/>Hide these variables:<br/>            <textarea id="hideVars" rows="3" cols="70"/>            <div id="hideVarsChoices" style="width: 500px;"></div>            <p style="margin-top: 15px;"/>Hide these object fields:<br/>            <textarea id="hideFields" rows="3" cols="70"/>            <div id="hideFieldsChoices" style="width: 500px;"></div>          </div>        </div>      '),d.find(".jsplumbOptionSlider").each((function(t,e){e.oninput=function(){a(e).siblings(".sliderVal").html(this.value),s()}})),d.find("#jsplumbConnectorType").change((function(){var t=a(this).val();d.find(".sliderWrapper").hide(),"StateMachine"===t?d.find("#smCurviness").parent(".sliderWrapper").show():"Bezier"===t?d.find("#bezierCurviness").parent(".sliderWrapper").show():"Straight"===t||(A("Flowchart"===t),d.find("#gap").parent(".sliderWrapper").show()),d.find("#arrowLength,#arrowWidth,#arrowFoldback").parent(".sliderWrapper").show(),s()})).val("StateMachine").change();var t=i.owner.dataViz.getAllProgramVarnames(),e=i.owner.dataViz.getAllProgramObjectFieldNames(),r=b(t),n=b(e);return d.find("#hideVarsChoices").html("<b><em>Choices:</em></b> "+r),d.find("#hideFieldsChoices").html("<b><em>Choices:</em></b> "+n),d.find("#updateHideVarsBtn").click((function(){var t=I(d.find("#hideVars").val()),e=I(d.find("#hideFields").val());i.owner.dataViz.selectivelyHideVarsAndFields(t,e)})),!1}function s(){var t=d.find("#jsplumbConnectorType").val(),e=null;"StateMachine"===t?e=[t,{curviness:d.find("#smCurviness").val()}]:"Bezier"===t?e=[t,{curviness:d.find("#bezierCurviness").val()}]:"Straight"===t?e=[t]:(A("Flowchart"===t),e=[t,{gap:d.find("#gap").val()}]),e&&(o.owner.dataViz.jsPlumbInstance.importDefaults({Connector:e,Overlays:[["Arrow",{length:d.find("#arrowLength").val(),width:d.find("#arrowWidth").val(),foldback:d.find("#arrowFoldback").val(),location:1}]]}),o.owner.dataViz.renderDataStructures(o.owner.curInstr))}}))}return t.prototype.hideUserInputDiv=function(){this.domRoot.find("#rawUserInputDiv").hide()},t.prototype.showUserInputDiv=function(){this.domRoot.find("#rawUserInputDiv").show()},t.prototype.setSliderVal=function(t){this.domRoot.find("#executionSlider").slider("value",t)},t.prototype.setVcrControls=function(t,e,r){var n=this.domRoot.find("#vcrControls");n.find("#jmpFirstInstr").attr("disabled",!1),n.find("#jmpStepBack").attr("disabled",!1),n.find("#jmpStepFwd").attr("disabled",!1),n.find("#jmpLastInstr").attr("disabled",!1),this.domRoot.find("#curInstr").html(t),e&&(n.find("#jmpFirstInstr").attr("disabled",!0),n.find("#jmpStepBack").attr("disabled",!0)),r&&(n.find("#jmpLastInstr").attr("disabled",!0),n.find("#jmpStepFwd").attr("disabled",!0))},t.prototype.setupSlider=function(t){var e=this;A(t>=0);var r=this.domRoot.find("#executionSlider");r.slider({min:0,max:t,step:1}),r.find(".ui-slider-handle").unbind("keydown").css("width","0.8em").css("height","1.4em"),this.domRoot.find(".ui-widget-content").css("font-size","0.9em"),this.domRoot.find("#executionSlider").bind("slide",(function(t,r){t.originalEvent&&e.owner.renderStep(r.value)}))},t.prototype.renderSliderBreakpoints=function(t){this.domRoot.find("#executionSliderFooter").empty();var e=this.domRoot.find("#executionSlider").width(),r=this.domRootD3.select("#executionSliderFooter").append("svg").attr("id","sliderOverlay").attr("width",e).attr("height",12),i=n.scale.linear().domain([0,this.nSteps-1]).range([0,e]);r.selectAll("rect").data(t).enter().append("rect").attr("x",(function(t,e){return 0===t?0:i(t)-1})).attr("y",0).attr("width",2).attr("height",12).style("fill",(function(t){return f}))},t.prototype.showError=function(t){t?this.domRoot.find("#errorOutput").html(R(t)+'\n      <div style="font-size: 11pt; color: #666">('.concat(i.O,")</div>")).show():this.domRoot.find("#errorOutput").hide()},t}();function A(t){if(!t)throw console.trace(),alert("Assertion Failure (see console log for backtrace)"),"Assertion Failure"}function R(t){return"string"==typeof t&&(t=(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/ /g,"&nbsp;")).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")).replace(_,"<br/>")),t}String.prototype.rtrim=function(){return this.replace(/\s*$/g,"")};var D=new RegExp("\\[|{|\\(|<","g"),x=new RegExp("\\]|}|\\)|>","g");function j(t){return t.replace(D,"LeftB_").replace(x,"_RightB").replace(/[!]/g,"_BANG_").replace(/[?]/g,"_QUES_").replace(/[:]/g,"_COLON_").replace(/[=]/g,"_EQ_").replace(/[.]/g,"_DOT_").replace(/[$]/g,"_DOLLAR_").replace(/ /g,"_")}function k(t){return"REF"==t[0]?t[1]:(A("C_DATA"===t[0]&&"pointer"===t[2]),A("<UNINITIALIZED>"!=t[3]&&"<UNALLOCATED>"!=t[3]),t[3])}},7105:(t,e,r)=>{t.exports=r.p+"69cb2e06cbade1f2eb10.png"},1933:(t,e,r)=>{t.exports=r.p+"54b56b2ce1b629862f97.png"},8351:(t,e,r)=>{t.exports=r.p+"0cbfade7920793b58036.png"}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var a=r[t]={id:t,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,i,a)=>{if(!r){var o=1/0;for(l=0;l<t.length;l++){for(var[r,i,a]=t[l],s=!0,d=0;d<r.length;d++)(!1&a||o>=a)&&Object.keys(n.O).every((t=>n.O[t](r[d])))?r.splice(d--,1):(s=!1,a<o&&(o=a));if(s){t.splice(l--,1);var p=i();void 0!==p&&(e=p)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,i,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.u=t=>t+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{n.b=document.baseURI||self.location.href;var t={209:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var i,a,[o,s,d]=r,p=0;if(o.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(d)var l=d(n)}for(e&&e(r);p<o.length;p++)a=o[p],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self.webpackChunkoptlite=self.webpackChunkoptlite||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.nc=void 0;var i=n.O(void 0,[484,919],(()=>n(532)));i=n.O(i)})();